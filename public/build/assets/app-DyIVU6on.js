import{r as D,o as d,c as u,a as y,b as p,d as t,e as P,w as h,f as m,F as v,g as w,n as C,t as l,h as b,i as A,j as f,v as k,k as $,l as x,m as E,p as B,q as R,s as U,u as J,x as z,y as K,z as H,A as G}from"./vendor-B6Eeulo3.js";const _=(s,e)=>{const n=s.__vccOpts||s;for(const[c,o]of e)n[c]=o;return n},W={name:"App"};function Q(s,e,n,c,o,a){const i=D("router-view");return d(),u("div",null,[y(i)])}const Y=_(W,[["render",Q],["__scopeId","data-v-ef1ce270"]]),X={data(){return{foods:[{image:"images/specialty/mcdo1.png",logo:"images/logos/mcdo2.png",title:"McDonald Crispy Chicken Fillet",description:"One of McDonald's best!",imgClass:"image"},{image:"images/specialty/jollibee1.png",logo:"images/logos/jollibee1.png",title:"Jollibee Yummy Burger Steak",description:"Jollibee's best easy meal",imgClass:"image"},{image:"images/specialty/ck1.png",logo:"images/logos/ck1.png",title:"Chowking Pork Chow Fan",description:"Chowking's best ever meal",imgClass:"image"},{image:"images/specialty/gw1.png",logo:"images/logos/gw1.png",title:"Greenwich Hawaiian Pizza",description:"One of Greenwich's best pizza",imgClass:"image"},{image:"images/specialty/mang1.png",logo:"images/logos/mang1.png",title:"Mang Inasal Paa",description:"Mang Inasal's best meal",imgClass:"image"},{image:"images/specialty/crispy1.png",logo:"images/logos/crispy1.png",title:"Crispy King Chicken",description:"People's favorite",imgClass:"image"},{image:"images/specialty/mcdo2.png",logo:"images/logos/mcdo2.png",title:"McSpaghetti with Burger",description:"Diet meal by McDonald's",imgClass:"image"},{image:"images/specialty/jollibee2.png",logo:"images/logos/jollibee1.png",title:"Jolly Spaghetti with Burger",description:"Easy meal by Jollibee",imgClass:"image"},{image:"images/specialty/ck2.png",logo:"images/logos/ck1.png",title:"Chowking Lauriat",description:"Easy meal by Chowking",imgClass:"image"},{image:"images/new products/manginasalpalabok.png",logo:"images/logos/ck1.png",title:"Chowking Lauriat",description:"Easy meal by Chowking",imgClass:"image"}],foodItems:[{price:"78.00",image:"images/specialty/mcdo1.png",name:"McCrispy Chicken Fillet",stars:[1,2,3,4,5],emptyStars:[]},{price:"₱88.00",image:"images/specialty/mcdo3.png",name:"McCrispy Chicken Fillet Ala king",stars:[1,2,3,4],emptyStars:[1]},{price:"₱50.00",image:"images/specialty/jollibee1.png",name:"Jollibee Burger Steak",stars:[1,2,3,4,5],emptyStars:[]},{price:"₱90.00",image:"images/specialty/ck1.png",name:"Chowking Chow Fan",stars:[1,2,3,4],emptyStars:[1]},{price:"₱178.00",image:"images/specialty/ck2.png",name:"Chowking Lauriat",stars:[1,2,3],emptyStars:[1,2]},{price:"₱40.00",image:"images/specialty/crispy1.png",name:"crispy king chicken",stars:[1,2,3,4,5],emptyStars:[]},{price:"₱116.00",image:"images/specialty/mang1.png",name:"Mang Inasal Paa",stars:[1,2,3,4,5],emptyStars:[]},{price:"₱99.00-₱500.00",image:"images/specialty/gw1.png",name:"Greenwich hawaiian pizza",stars:[1,2,3,4,5],emptyStars:[]},{price:"₱95.00",image:"images/specialty/jollibee2.png",name:"Jolly Spagghetti with Burger",stars:[1,2,3,4,5],emptyStars:[]},{price:"₱114.00",image:"images/specialty/mcdo2.png",name:"McSpagghetti with Burger",stars:[1,2,3,4,5],emptyStars:[]},{price:"₱172.00",image:"images/new products/manginasalpalabok.png",name:"Mang Inasal Palabok",stars:[1,2,3,4,5],emptyStars:[]},{price:"₱87.00",image:"images/new products/chillichicken.png",name:"Jollibee Spicy Chicken",stars:[1,2,3,4,5],emptyStars:[]},{price:"₱435.00",image:"images/new products/jollibeebucketmeals.png",name:"Jollibee Bucket Meals Promo",stars:[1,2,3,4,5],emptyStars:[]},{price:"₱54.00",image:"images/specialty/mcdo4.png",name:"Coke McFloat",stars:[1,2,3,4,5],emptyStars:[]},{price:"₱58.00",image:"images/specialty/jollibee3.png",name:"Jollibee Sundae",stars:[1,2,3,4,5],emptyStars:[]}],galleryItems:[{image:"~/images/gallery/3jollibee.jpg",alt:"Jollibee",logo:"images/logos/jollibee1.png",logoAlt:"Jollibee Logo",title:"Customers",description:"Random pictures taken from a customers eating using our website"},{image:"images/gallery/jollibeebucketmeals.jpg",alt:"Jollibee New",logo:"images/logos/jollibee1.png",logoAlt:"Jollibee Logo",title:"Customers",description:"Random pictures taken from a customers eating using our website"},{image:"images/gallery/mcdonew.jpg",alt:"Mcdo New",logo:"images/logos/mcdo2.png",logoAlt:"Mcdo Logo",title:"Customers",description:"Random pictures taken from a customers eating using our website"},{image:"images/gallery/fillet.jpg",alt:"Fillet",logo:"images/logos/mcdo2.png",logoAlt:"Mcdo Logo",title:"Customers",description:"Random pictures taken from a customers eating using our website"},{image:"~/images/gallery/pizza.jpg",alt:"Pizza",logo:"images/logos/gw1.png",logoAlt:"GW Logo",title:"Customers",description:"Random pictures taken from a customers eating using our website"},{image:"images/gallery/gwnew.jpg",alt:"GW New",logo:"images/logos/gw1.png",logoAlt:"GW Logo",title:"Customers",description:"Random pictures taken from a customers eating using our website"},{image:"~/images/gallery/pizza.jpg",alt:"Jollibee 2",logo:"images/logos/jollibee1.png",logoAlt:"Jollibee Logo",title:"Customers",description:"Random pictures taken from a customers eating using our website"},{image:"images/gallery/1mcdo.jpg",alt:"Mcdo 1",logo:"images/logos/mcdo2.png",logoAlt:"Mcdo Logo",title:"Customers",description:"Random pictures taken from a customers eating using our website"},{image:"images/gallery/2mcdo.jpg",alt:"Mcdo 2",logo:"images/logos/mcdo2.png",logoAlt:"Mcdo Logo",title:"Customers",description:"Random pictures taken from a customers eating using our website"},{image:"images/gallery/4jollibee.jpg",alt:"Jollibee 4",logo:"images/logos/jollibee1.png",logoAlt:"Jollibee Logo",title:"Customers",description:"Random pictures taken from a customers eating using our website"}],reviews:[],rules:["Click the button below","Sign up all the needed forms","Agree to our terms and conditions","Then log in your account","Pick and place your order","Fill in information to process your order","Checkout","Wait for your order to be delivered to your location","If our delivery guy calls you, pick it up and receive your order","Enjoy your meal"]}},methods:{redirectToLogin(){window.location.href="/login"},handleImageError(s){s.target.src="/images/admin.png"},async fetchReviews(){try{const s=await p.get("/api/reviews");this.reviews=s.data,console.log("Reviews:",this.reviews)}catch(s){console.error("Error fetching reviews:",s)}}},mounted(){this.fetchReviews()}},Z={class:"header"},ee={class:"navbar"},te={class:"speciality",id:"speciality"},se={class:"main-box-speciality"},re=["src"],oe={class:"content"},ie=["src"],ae={class:"popular",id:"popular"},ne={class:"box-container"},le={class:"price"},de=["src","alt"],ue={class:"stars"},ce={class:"gallery",id:"gallery"},me={class:"main-gallery-box"},pe=["src","alt"],ge={class:"content"},fe=["src","alt"],he={class:"review",id:"review"},ve={class:"box-container"},ye={class:"user-profile"},be=["src","alt"],we={class:"stars"};function ke(s,e,n,c,o,a){const i=D("router-link");return d(),u("div",null,[t("header",Z,[e[4]||(e[4]=t("a",{href:"#",id:"logo"},[t("img",{src:"images/logo1.png",alt:""})],-1)),e[5]||(e[5]=t("div",{id:"menu-bars",class:"fas fa-bars"},null,-1)),t("nav",ee,[e[2]||(e[2]=P('<a href="#home">home</a><a href="#speciality">Specialty</a><a href="#popular">Popular</a><a href="#gallery">Gallery</a><a href="#review">Review</a>',5)),y(i,{to:"/about-us"},{default:h(()=>e[1]||(e[1]=[m("About Us")])),_:1}),e[3]||(e[3]=t("a",{href:"#order"},"Order",-1))]),e[6]||(e[6]=t("div",{class:"auth-buttons"},[t("a",{href:"/login",class:"btn login-btn"},"Login"),t("a",{href:"/register",class:"btn register-btn"},"Register")],-1))]),e[12]||(e[12]=P('<section id="home" class="home"><div class="image myimage"><img src="images/homeimg.png" alt=""></div><div class="content"><h3>universal fast food</h3><p>Flavors for Every Palate, Speed for Every Craving!</p><a href="#order" class="btn">order now</a></div></section>',1)),t("section",te,[e[7]||(e[7]=t("h1",{class:"speciality-heading"},[m(" most "),t("span",null,"ordered foods")],-1)),t("div",se,[(d(!0),u(v,null,w(o.foods,(r,g)=>(d(),u("div",{key:g,class:"box"},[t("img",{class:C(r.imgClass),src:r.image,alt:""},null,10,re),t("div",oe,[t("img",{src:r.logo,alt:""},null,8,ie),t("h3",null,l(r.title),1),t("p",null,l(r.description),1)])]))),128))])]),t("section",ae,[e[9]||(e[9]=t("h1",{class:"heading"},[m("all available"),t("span",null," foods")],-1)),t("div",ne,[(d(!0),u(v,null,w(o.foodItems,(r,g)=>(d(),u("div",{class:"box",key:g},[t("span",le,l(r.price),1),e[8]||(e[8]=t("div",{class:"icons"},[t("i",{class:"fas fa-share"}),t("i",{class:"fas fa-heart"}),t("i",{class:"fas fa-eye-slash"})],-1)),t("img",{src:r.image,alt:r.name},null,8,de),t("h3",null,l(r.name),1),t("div",ue,[(d(!0),u(v,null,w(r.stars,I=>(d(),u("i",{key:I,class:"fas fa-star"}))),128)),(d(!0),u(v,null,w(r.emptyStars,I=>(d(),u("i",{key:I,class:"far fa-star"}))),128))])]))),128))])]),t("section",ce,[e[10]||(e[10]=t("h1",{class:"heading"},[t("span",null,"Our"),m(" Gallery ")],-1)),t("div",me,[(d(!0),u(v,null,w(o.galleryItems,(r,g)=>(d(),u("div",{key:g,class:"box"},[t("img",{src:r.image,class:"image",alt:r.alt},null,8,pe),t("div",ge,[t("img",{src:r.logo,alt:r.logoAlt},null,8,fe),t("h3",null,l(r.title),1),t("p",null,l(r.description),1)])]))),128))])]),t("section",he,[e[11]||(e[11]=t("h1",{class:"heading"},[m("Our Customers "),t("span",null,"Reviews")],-1)),t("div",ve,[(d(!0),u(v,null,w(o.reviews,r=>(d(),u("div",{key:r.id,class:"box"},[t("div",ye,[t("img",{src:r.user.profile_picture_url,alt:r.user.name,onError:e[0]||(e[0]=g=>a.handleImageError(g))},null,40,be)]),t("h3",null,l(r.user.name),1),t("div",we,[(d(!0),u(v,null,w(r.rating,g=>(d(),u("i",{key:g,class:"fas fa-star"}))),128))]),t("p",null,l(r.message),1)]))),128))])]),e[13]||(e[13]=P('<section class="footer"><div class="share"><a href="https://web.facebook.com/nateriver4" class="btn">facebook</a><a href="#" class="btn">twitter</a><a href="#" class="btn">instagram</a><a href="#" class="btn">pinterest</a><a href="#" class="btn">linkedin</a></div></section><a href="#home" class="fas fa-angle-up" id="scroll-top"></a>',2))])}const N=_(X,[["render",ke]]),_e={data(){return{teamMembers:[{name:"Ren Laureanne G. Perandos",position:"Developer",description:"The Creator of this website. Due to his curiosity he was able to make and brainstorm tons of ideas and knowledge that he watched on several platforms, until he made this one.",image:"images/aboutUs/ken.jpg",facebook:"https://web.facebook.com/nateriver4",instagram:"#",twitter:"#",github:"#"},{name:"Dimple Kay L. Eguna",position:"Co-Developer",description:"The assistant, suggesting and telling the developer some ideas about what should be the next move and what changes should he make.",image:"images/aboutUs/dimplax.jpg",facebook:"https://web.facebook.com/marc.salamanca.3",instagram:"#",twitter:"#",github:"#"},{name:"Kenny Fazbear",position:"Manager",description:"The developer's alter ego, this is his inner self when he is in the zone, and is too focused on what he is doing. He is the reason why the developer is so unique and inspired.",image:"images/aboutUs/freddy.jpg",facebook:"#",instagram:"#",twitter:"#",github:"#"}]}}},Ce={class:"page-wrapper"},De={class:"content"},Se={class:"sub-container"},Pe=["src","alt"],Ae={class:"name"},Ie={class:"desig"},Ee={class:"about"},$e={class:"social-links"},xe=["href"],Ue=["href"],Oe=["href"],Me=["href"];function Re(s,e,n,c,o,a){const i=D("router-link");return d(),u("div",Ce,[t("div",De,[e[5]||(e[5]=t("div",{class:"header1"},[t("h1",null,[t("span",{style:{color:"rgb(202, 6, 6)"}},"Our"),m(" Team")])],-1)),y(i,{to:"/",class:"hire"},{default:h(()=>e[0]||(e[0]=[m("Go Back")])),_:1}),t("div",Se,[(d(!0),u(v,null,w(o.teamMembers,(r,g)=>(d(),u("div",{class:"teams",key:g},[t("img",{src:r.image,alt:r.name},null,8,Pe),t("div",Ae,l(r.name),1),t("div",Ie,l(r.position),1),t("div",Ee,l(r.description),1),t("div",$e,[r.facebook?(d(),u("a",{key:0,href:r.facebook,target:"_blank"},e[1]||(e[1]=[t("i",{class:"fa fa-facebook"},null,-1)]),8,xe)):b("",!0),r.instagram?(d(),u("a",{key:1,href:r.instagram,target:"_blank"},e[2]||(e[2]=[t("i",{class:"fa fa-instagram"},null,-1)]),8,Ue)):b("",!0),r.twitter?(d(),u("a",{key:2,href:r.twitter,target:"_blank"},e[3]||(e[3]=[t("i",{class:"fa fa-twitter"},null,-1)]),8,Oe)):b("",!0),r.github?(d(),u("a",{key:3,href:r.github,target:"_blank"},e[4]||(e[4]=[t("i",{class:"fa fa-github"},null,-1)]),8,Me)):b("",!0)])]))),128))])]),e[6]||(e[6]=t("div",{class:"footer"},[t("p",null,[m("Copyright ©2023; Designed by "),t("span",{class:"designer"},"Kenny Fazbear")])],-1))])}const F=_(_e,[["render",Re],["__scopeId","data-v-755627f0"]]),Ne={data(){return{form:{email:"",password:""},error:null,showPassword:!1}},methods:{async handleLogin(){try{const s=await p.post("/login",this.form);if(s.data.status==="success"){const e=s.data.user;e.role==="seller"?(localStorage.setItem("sellerUser",JSON.stringify(e)),localStorage.setItem("isSeller","true")):(localStorage.setItem("customerUser",JSON.stringify(e)),localStorage.setItem("isCustomer","true")),alert("Login successful!"),this.$router.push("/order")}}catch(s){s.response?s.response.data.errors?this.error=Object.values(s.response.data.errors)[0][0]:s.response.data.message&&(this.error=s.response.data.message):this.error="An error occurred. Please try again."}},togglePassword(){this.showPassword=!this.showPassword}}},Fe={class:"container"},Te={class:"forms"},Le={class:"form-content"},qe={class:"login-form"},je={class:"input-boxes"},Ve={class:"input-box"},Be={class:"input-box"},Je=["type"],ze={key:0,class:"error-message"},Ke={class:"text sign-up-text"};function He(s,e,n,c,o,a){const i=D("router-link");return d(),u(v,null,[e[12]||(e[12]=t("header",{class:"header"},[t("a",{href:"/",id:"logo"},[t("img",{src:"images/logo1.png",alt:""})]),t("div",{id:"menu-bars",class:"fas fa-bars"})],-1)),t("div",null,[e[11]||(e[11]=t("div",{class:"background-image"},null,-1)),t("div",Fe,[e[10]||(e[10]=P('<div class="cover" data-v-6d8614f7><div class="front" data-v-6d8614f7><img src="images/orderlogo.jpg" alt="" data-v-6d8614f7><div class="text" data-v-6d8614f7><span class="text-1" data-v-6d8614f7>Flavors for Every Palate, <br data-v-6d8614f7> Speed for Every Craving!</span><span class="text-2" data-v-6d8614f7>Buy your meal now!</span></div></div><div class="back" data-v-6d8614f7><div class="text" data-v-6d8614f7><span class="text-1" data-v-6d8614f7>Complete miles of journey <br data-v-6d8614f7> with one step</span><span class="text-2" data-v-6d8614f7>Let&#39;s get started</span></div></div></div>',1)),t("div",Te,[t("div",Le,[t("div",qe,[e[9]||(e[9]=t("div",{class:"title"},"Login",-1)),t("form",{onSubmit:e[3]||(e[3]=A((...r)=>a.handleLogin&&a.handleLogin(...r),["prevent"]))},[t("div",je,[t("div",Ve,[e[4]||(e[4]=t("i",{class:"fa fa-envelope"},null,-1)),f(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>o.form.email=r),type:"email",placeholder:"Enter your email",required:""},null,512),[[k,o.form.email]])]),t("div",Be,[e[5]||(e[5]=t("i",{class:"fa fa-lock"},null,-1)),f(t("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>o.form.password=r),type:o.showPassword?"text":"password",placeholder:"Enter your password",required:""},null,8,Je),[[$,o.form.password]]),t("i",{class:C(["fa-solid eye-icon",o.showPassword?"fa fa-eye-slash":"fa fa-eye"]),onClick:e[2]||(e[2]=(...r)=>a.togglePassword&&a.togglePassword(...r))},null,2)]),o.error?(d(),u("div",ze,l(o.error),1)):b("",!0),e[8]||(e[8]=t("div",{class:"button input-box"},[t("input",{type:"submit",value:"Login"})],-1)),t("div",Ke,[e[7]||(e[7]=m(" Don't have an account? ")),y(i,{to:"/register",style:{color:"rgb(202, 6, 6)"}},{default:h(()=>e[6]||(e[6]=[m("Register now")])),_:1})])])],32)])])])])])],64)}const T=_(Ne,[["render",He],["__scopeId","data-v-6d8614f7"]]),Ge={data(){return{formData:{name:"",email:"",password:"",confirmPassword:"",phone:"",address:"",agree:!1,role:""},passwordVisible:!1,confirmPasswordVisible:!1,passwordStrengthMessage:"",passwordStrengthColor:"red",passwordMatchMessage:"",passwordMatchColor:"red"}},methods:{async handleSubmit(){var s,e;if(this.formData.password!==this.formData.confirmPassword){alert("Passwords do not match");return}if(this.passwordStrengthColor==="red"){alert("Password is too weak");return}if(!this.formData.agree){alert("Please agree to the terms and conditions");return}try{this.formData.role==="seller"?(await p.post("/register/seller",this.formData)).data.success&&(alert("Seller registration successful! Please wait for admin approval."),this.$router.push("/pending?fromRegistration=true")):(await p.post("/register",this.formData)).data.success&&(alert("Registration successful! You can now login."),this.$router.push("/login"))}catch(n){console.error("Registration error:",n),alert(((e=(s=n.response)==null?void 0:s.data)==null?void 0:e.message)||"Registration failed. Please try again.")}},togglePassword(){this.passwordVisible=!this.passwordVisible},toggleConfirmPassword(){this.confirmPasswordVisible=!this.confirmPasswordVisible},checkPasswordStrength(){const s=this.formData.password;let e=0;const n=/[a-z]/.test(s),c=/[A-Z]/.test(s),o=/\d/.test(s),a=/[!@#$%^&*(),.?":{}|<>]/.test(s);n&&(e+=1),c&&(e+=1),o&&(e+=1),a&&(e+=1),s.length>=8&&e>=3?(this.passwordStrengthMessage="Strong password",this.passwordStrengthColor="green"):s.length>=6&&e>=2?(this.passwordStrengthMessage="Moderate password",this.passwordStrengthColor="orange"):(this.passwordStrengthMessage="Weak password",this.passwordStrengthColor="red")},checkPasswordsMatch(){this.formData.password===this.formData.confirmPassword&&this.formData.password!==""?(this.passwordMatchMessage="Passwords match",this.passwordMatchColor="green"):(this.passwordMatchMessage="Passwords do not match",this.passwordMatchColor="red")}}},We={class:"container"},Qe={class:"forms"},Ye={class:"form-content"},Xe={class:"signup-form"},Ze={class:"input-boxes"},et={class:"input-box"},tt={class:"input-box"},st={class:"input-box"},rt=["type"],ot={class:"input-box"},it=["type"],at={class:"input-box"},nt={class:"input-box"},lt={class:"input-box"},dt={class:"input-box"};function ut(s,e,n,c,o,a){return d(),u(v,null,[e[28]||(e[28]=P('<header class="header" data-v-09e8ce3a><a href="/" id="logo" data-v-09e8ce3a><img src="images/logo1.png" alt="" data-v-09e8ce3a></a><div id="menu-bars" class="fas fa-bars" data-v-09e8ce3a></div></header><div class="background-image" data-v-09e8ce3a></div>',2)),t("div",We,[e[27]||(e[27]=P('<div class="cover" data-v-09e8ce3a><div class="front" data-v-09e8ce3a><img src="images/orderlogo.jpg" alt="" data-v-09e8ce3a><div class="text" data-v-09e8ce3a><span class="text-1" data-v-09e8ce3a>Flavors for Every Palate, <br data-v-09e8ce3a> Speed for Every Craving!</span><span class="text-2" data-v-09e8ce3a>Buy your meal now!</span></div></div><div class="back" data-v-09e8ce3a><div class="text" data-v-09e8ce3a><span class="text-1" data-v-09e8ce3a>Complete miles of journey <br data-v-09e8ce3a> with one step</span><span class="text-2" data-v-09e8ce3a>Let&#39;s get started</span></div></div></div>',1)),t("div",Qe,[t("div",Ye,[t("div",Xe,[e[26]||(e[26]=t("div",{class:"title"},"Sign Up",-1)),t("form",{onSubmit:e[12]||(e[12]=A((...i)=>a.handleSubmit&&a.handleSubmit(...i),["prevent"]))},[t("div",Ze,[t("div",et,[e[13]||(e[13]=t("i",{class:"fa fa-user"},null,-1)),f(t("input",{"onUpdate:modelValue":e[0]||(e[0]=i=>o.formData.name=i),type:"text",placeholder:"Enter your name",required:""},null,512),[[k,o.formData.name]])]),t("div",tt,[e[14]||(e[14]=t("i",{class:"fa fa-envelope"},null,-1)),f(t("input",{"onUpdate:modelValue":e[1]||(e[1]=i=>o.formData.email=i),type:"email",placeholder:"Enter your email",required:""},null,512),[[k,o.formData.email]])]),t("div",st,[e[16]||(e[16]=t("i",{class:"fa fa-lock"},null,-1)),f(t("input",{"onUpdate:modelValue":e[2]||(e[2]=i=>o.formData.password=i),type:o.passwordVisible?"text":"password",id:"password",placeholder:"Enter your password",required:"",onInput:e[3]||(e[3]=(...i)=>a.checkPasswordStrength&&a.checkPasswordStrength(...i))},null,40,rt),[[$,o.formData.password]]),t("button",{type:"button",onClick:e[4]||(e[4]=(...i)=>a.togglePassword&&a.togglePassword(...i)),id:"togglePassword"},e[15]||(e[15]=[t("i",{class:"fa fa-eye"},null,-1)])),o.passwordStrengthMessage?(d(),u("div",{key:0,style:x({color:o.passwordStrengthColor,textAlign:"left",marginLeft:"-140px"})},l(o.passwordStrengthMessage),5)):b("",!0)]),t("div",ot,[e[18]||(e[18]=t("i",{class:"fa fa-lock"},null,-1)),f(t("input",{"onUpdate:modelValue":e[5]||(e[5]=i=>o.formData.confirmPassword=i),type:o.confirmPasswordVisible?"text":"password",id:"confirmPassword",placeholder:"Confirm password",required:"",onInput:e[6]||(e[6]=(...i)=>a.checkPasswordsMatch&&a.checkPasswordsMatch(...i))},null,40,it),[[$,o.formData.confirmPassword]]),t("button",{type:"button",onClick:e[7]||(e[7]=(...i)=>a.toggleConfirmPassword&&a.toggleConfirmPassword(...i)),id:"toggleConfirmPassword"},e[17]||(e[17]=[t("i",{class:"fa fa-eye"},null,-1)])),o.passwordMatchMessage?(d(),u("div",{key:0,style:x({color:o.passwordMatchColor,textAlign:"left",marginLeft:"-160px"})},l(o.passwordMatchMessage),5)):b("",!0)]),t("div",at,[e[19]||(e[19]=t("i",{class:"fa fa-phone"},null,-1)),f(t("input",{"onUpdate:modelValue":e[8]||(e[8]=i=>o.formData.phone=i),type:"tel",placeholder:"Enter phone number",required:""},null,512),[[k,o.formData.phone]])]),t("div",nt,[e[20]||(e[20]=t("i",{class:"fa fa-address-card"},null,-1)),f(t("input",{"onUpdate:modelValue":e[9]||(e[9]=i=>o.formData.address=i),type:"text",placeholder:"Enter address",required:""},null,512),[[k,o.formData.address]])]),t("div",lt,[e[22]||(e[22]=t("i",{class:"fa fa-user-tag"},null,-1)),f(t("select",{"onUpdate:modelValue":e[10]||(e[10]=i=>o.formData.role=i),required:"",class:"role-select"},e[21]||(e[21]=[t("option",{value:""},"Select Role",-1),t("option",{value:"customer"},"Customer",-1),t("option",{value:"seller"},"Seller",-1)]),512),[[E,o.formData.role]])]),t("div",dt,[t("label",null,[f(t("input",{"onUpdate:modelValue":e[11]||(e[11]=i=>o.formData.agree=i),type:"checkbox",required:""},null,512),[[B,o.formData.agree]])]),e[23]||(e[23]=t("span",null,[m("I Agree To The "),t("a",{href:"#"},"Terms And Conditions")],-1))]),e[24]||(e[24]=t("div",{class:"button input-box"},[t("input",{type:"submit",value:"Sign Up"})],-1)),e[25]||(e[25]=t("div",{class:"text sign-up-text"},[m(" Already have an account? "),t("a",{href:"/login",style:{color:"rgb(202, 6, 6)"}},"Login now")],-1))])],32)])])])])],64)}const L=_(Ge,[["render",ut],["__scopeId","data-v-09e8ce3a"]]),ct={data(){return{products:[],cart:[],keyword:"",isCartOpen:!1,isSidebarOpen:!1,selectedBrand:"",currentUser:null,profilePictureUrl:"/images/admin.png"}},computed:{...R({deliveryMessage:s=>s.deliveryMessage,isActive:s=>s.isActive}),filteredProducts(){const s=this.keyword.toUpperCase();return this.products.filter(e=>e.name.toUpperCase().includes(s)&&(this.selectedBrand===""||e.brand===this.selectedBrand))},cartTotal(){return this.cart.reduce((s,e)=>s+e.price*e.quantity,0).toFixed(2)},isCustomer(){return this.currentUser&&this.currentUser.role==="customer"},isSeller(){return this.currentUser&&this.currentUser.role==="seller"}},methods:{toggleCart(){this.isSidebarOpen&&(this.isSidebarOpen=!1),this.isCartOpen=!this.isCartOpen},toggleSidebar(){this.isCartOpen&&(this.isCartOpen=!1),this.isSidebarOpen=!this.isSidebarOpen},searchProducts(){this.filterProducts(this.selectedBrand)},filteredProducts(){const s=this.keyword.toUpperCase();return this.products.filter(e=>{const n=e.name.toUpperCase().includes(s),c=this.selectedBrand===""||e.brand===this.selectedBrand;return n&&c})},addToCart(s,e){const n=e.target.parentElement.querySelector("img"),c=n.cloneNode(!0),o=n.getBoundingClientRect(),i=document.querySelector(".shopping").getBoundingClientRect();c.style.position="fixed",c.style.top=o.top+"px",c.style.left=o.left+"px",c.style.width=o.width+"px",c.style.height=o.height+"px",c.style.transition="all 0.8s ease-in-out",c.style.zIndex="9999",c.classList.add("flying-image"),document.body.appendChild(c),setTimeout(()=>{c.style.top=i.top+"px",c.style.left=i.left+"px",c.style.width="30px",c.style.height="30px",c.style.opacity="0.5",c.style.transform="scale(0.5)"},0),setTimeout(()=>{c.remove();const r=this.cart.find(g=>g.id===s.id);r?r.quantity++:this.cart.push({...s,quantity:1})},800)},increaseQuantity(s){this.cart[s].quantity++},decreaseQuantity(s){this.cart[s].quantity>1?this.cart[s].quantity--:this.cart.splice(s,1)},checkout(){localStorage.setItem("cart",JSON.stringify(this.cart)),this.$router.push({name:"Checkout"})},handleImageError(s){console.error("Image failed to load:",s.target.src),s.target.src="/images/admin.png"},async fetchUserProfile(){try{const s=await p.get("/api/profile");s.data&&s.data.user&&(this.profilePictureUrl=s.data.user.profile_picture_url||"/images/admin.png")}catch(s){console.error("Error fetching user profile:",s),this.profilePictureUrl="/images/admin.png"}},async logout(){try{await p.post("/logout"),localStorage.getItem("isCustomer")?(localStorage.removeItem("customerUser"),localStorage.removeItem("isCustomer")):localStorage.getItem("isSeller")&&(localStorage.removeItem("sellerUser"),localStorage.removeItem("isSeller")),localStorage.removeItem("cart"),this.$router.push("/login")}catch(s){console.error("Logout error:",s)}},async fetchProducts(){try{const s=await p.get("/products");this.products=s.data.map(e=>({...e,price:parseFloat(e.price)}))}catch(s){console.error("Error fetching products:",s)}},updateDeliveryStatus(s){this.deliveryStatus=s.status==="pending",this.deliveryMessage=s.message},goToDelivery(){this.$router.push("/delivery")}},mounted(){this.fetchProducts()},created(){const s=localStorage.getItem("customerUser"),e=localStorage.getItem("sellerUser");s?(this.currentUser=JSON.parse(s),console.log("Current user (customer):",this.currentUser),this.fetchUserProfile()):e?(this.currentUser=JSON.parse(e),console.log("Current user (seller):",this.currentUser),this.fetchUserProfile()):this.$router.push("/login")}},mt={class:"container"},pt={class:"profile"},gt=["src"],ft={class:"profile-name"},ht={key:0,class:"right-actions"},vt={class:"status-badge"},yt={class:"badge-text"},bt={class:"quantity"},wt={class:"filter-options"},kt={class:"list",id:"product-list"},_t=["src","alt"],Ct={class:"price"},Dt={class:"seller-info"},St={class:"badge-container"},Pt=["src","alt"],At={class:"seller"},It=["onClick"],Et={class:"listCart"},$t=["src","alt"],xt={class:"item-details"},Ut={class:"name"},Ot={class:"price"},Mt={class:"quantity-controls"},Rt=["onClick"],Nt=["onClick"],Ft={class:"total-price"},Tt={class:"total-price"},Lt={class:"buttons"};function qt(s,e,n,c,o,a){const i=D("router-link");return d(),u("div",{class:C(["main-content",{"move-right":o.isCartOpen,"move-left":o.isSidebarOpen}]),id:"main-content"},[t("nav",null,[e[17]||(e[17]=t("div",{class:"logo"},"Order Menu",-1)),t("ul",null,[t("li",null,[t("a",{href:"#",onClick:e[0]||(e[0]=r=>s.filterProducts(""))},"All Products")]),t("li",null,[t("a",{href:"#",onClick:e[1]||(e[1]=r=>s.filterProducts("McDonalds"))},"McDonalds")]),t("li",null,[t("a",{href:"#",onClick:e[2]||(e[2]=r=>s.filterProducts("Jollibee"))},"Jollibee")]),t("li",null,[t("a",{href:"#",onClick:e[3]||(e[3]=r=>s.filterProducts("Chowking"))},"Chowking")]),t("li",null,[t("a",{href:"#",onClick:e[4]||(e[4]=r=>s.filterProducts("Mang Inasal"))},"Mang Inasal")]),t("li",null,[t("a",{href:"#",onClick:e[5]||(e[5]=r=>s.filterProducts("Greenwich"))},"Greenwich")]),t("li",null,[t("a",{href:"#",onClick:e[6]||(e[6]=r=>s.filterProducts("Crispy King"))},"Crispy King")])])]),t("div",mt,[t("header",null,[t("div",pt,[t("img",{src:o.profilePictureUrl,alt:"Profile",onClick:e[7]||(e[7]=(...r)=>a.toggleSidebar&&a.toggleSidebar(...r)),onError:e[8]||(e[8]=(...r)=>a.handleImageError&&a.handleImageError(...r))},null,40,gt),t("span",ft,"Welcome, "+l(o.currentUser?o.currentUser.name:"Guest"),1)]),a.isCustomer?(d(),u("div",ht,[s.isActive?(d(),u("div",{key:0,class:"delivery-status",onClick:e[9]||(e[9]=(...r)=>a.goToDelivery&&a.goToDelivery(...r))},[t("div",vt,[e[18]||(e[18]=t("i",{class:"fas fa-motorcycle"},null,-1)),t("span",yt,l(s.deliveryMessage),1)])])):(d(),u("div",{key:1,class:"shopping",onClick:e[10]||(e[10]=(...r)=>a.toggleCart&&a.toggleCart(...r))},[e[19]||(e[19]=t("img",{src:"images/shopping.svg",alt:"Cart"},null,-1)),t("span",bt,l(o.cart.length),1)]))])):b("",!0)]),t("div",wt,[f(t("input",{type:"text","onUpdate:modelValue":e[11]||(e[11]=r=>o.keyword=r),placeholder:"Enter keyword",onKeyup:e[12]||(e[12]=(...r)=>a.searchProducts&&a.searchProducts(...r))},null,544),[[k,o.keyword]]),e[20]||(e[20]=t("p",null,"ex. Jollibee, Mcdo, Mang Inasal, Crispy King, Greenwich, etc ",-1))]),t("div",kt,[(d(!0),u(v,null,w(a.filteredProducts,r=>(d(),u("div",{key:r.id,class:"item"},[t("img",{src:"/storage/"+r.image,alt:r.name},null,8,_t),t("h2",null,l(r.name),1),t("p",Ct,"₱"+l(parseFloat(r.price).toFixed(2)),1),t("div",Dt,[t("div",St,[t("img",{src:r.seller_profile?"/storage/profile_pictures/"+r.seller_profile:"/images/admin.png",alt:r.seller_name,class:"seller-badge",onError:e[13]||(e[13]=g=>g.target.src="/images/admin.png")},null,40,Pt)]),t("p",At,"Seller: "+l(r.seller_name),1)]),a.isCustomer?(d(),u("button",{key:0,onClick:g=>a.addToCart(r,g)},"Add to Cart",8,It)):b("",!0)]))),128))])]),a.isCustomer?(d(),u("div",{key:0,class:C(["cart",{active:o.isCartOpen}]),id:"cart"},[e[21]||(e[21]=t("h1",null,"Cart",-1)),t("div",Et,[(d(!0),u(v,null,w(o.cart,(r,g)=>(d(),u("div",{key:g,class:"item"},[t("img",{src:"/storage/"+r.image,alt:r.name},null,8,$t),t("div",xt,[t("div",Ut,l(r.name),1),t("div",Ot,"₱"+l(parseFloat(r.price).toFixed(2)),1)]),t("div",Mt,[t("button",{onClick:I=>a.decreaseQuantity(g)},"-",8,Rt),t("span",null,l(r.quantity),1),t("button",{onClick:I=>a.increaseQuantity(g)},"+",8,Nt)]),t("div",Ft,"Total: ₱"+l((r.price*r.quantity).toFixed(2)),1)]))),128)),t("div",Tt,"Total: ₱"+l(a.cartTotal),1)]),t("div",Lt,[t("div",{class:"close",onClick:e[14]||(e[14]=(...r)=>a.toggleCart&&a.toggleCart(...r))},"CLOSE"),t("div",{class:"checkOut",onClick:e[15]||(e[15]=(...r)=>a.checkout&&a.checkout(...r))},"Checkout")])],2)):b("",!0),t("div",{class:C(["sidebar",{active:o.isSidebarOpen}]),id:"sidebar"},[y(i,{to:"/profile"},{default:h(()=>e[22]||(e[22]=[m("My Profile")])),_:1}),a.isSeller?(d(),U(i,{key:0,to:"/my-products"},{default:h(()=>e[23]||(e[23]=[m("My Products")])),_:1})):b("",!0),y(i,{to:"/profile-settings"},{default:h(()=>e[24]||(e[24]=[m("Profile Settings")])),_:1}),t("a",{href:"#",onClick:e[16]||(e[16]=(...r)=>a.logout&&a.logout(...r)),class:"logout-btn"},"Logout")],2)],2)}const q=_(ct,[["render",qt],["__scopeId","data-v-223e126b"]]),jt={data(){return{checkoutData:{name:"",phone:"",address:"",payment:"",card:""},cartItems:[],popupOpen:!1,deliveryFee:50}},computed:{totalQuantity(){return this.cartItems.reduce((s,e)=>s+e.quantity,0)},subtotal(){return this.cartItems.reduce((s,e)=>s+e.price*e.quantity,0)},totalPrice(){return this.subtotal+this.deliveryFee}},methods:{async handleCheckout(){var s,e,n;if(this.validateForm())try{console.log("Sending checkout data:",{cartItems:this.cartItems,checkoutData:this.checkoutData});const c=await p.post("/api/orders",{cartItems:this.cartItems,checkoutData:this.checkoutData});console.log("Server response:",c.data),c.data.success&&(sessionStorage.setItem("orderId",c.data.order_id),localStorage.removeItem("cart"),this.openPopup(),setTimeout(()=>{this.$router.push("/delivery")},2e3))}catch(c){console.error("Error processing order:",((s=c.response)==null?void 0:s.data)||c),alert("Error processing your order: "+(((n=(e=c.response)==null?void 0:e.data)==null?void 0:n.message)||c.message))}},validateForm(){return!this.cartItems||this.cartItems.length===0?(alert("Your cart is empty!"),!1):!this.checkoutData.name||!this.checkoutData.phone||!this.checkoutData.address||!this.checkoutData.payment?(alert("Please fill out all required fields before checking out."),!1):this.checkoutData.payment==="GCASH"&&!this.checkoutData.card?(alert("Please select a card for GCASH payment."),!1):(this.checkoutData.card||(this.checkoutData.card="None"),!0)},openPopup(){this.popupOpen=!0},closePopup(){this.popupOpen=!1},saveCheckoutData(){const s={checkoutData:this.checkoutData,cartItems:this.cartItems};sessionStorage.setItem("checkoutData",JSON.stringify(s))},loadUserData(){const s=localStorage.getItem("user");if(s){const e=JSON.parse(s);this.checkoutData.name=e.name||"",this.checkoutData.phone=e.phone||"",this.checkoutData.address=e.address||""}}},async mounted(){const s=JSON.parse(localStorage.getItem("cart"))||[];this.cartItems=s,this.loadUserData()}},Vt={class:"container"},Bt={class:"checkoutLayout"},Jt={class:"returnCart"},zt={class:"list"},Kt=["src","alt"],Ht={class:"item-details"},Gt={class:"name"},Wt={class:"price"},Qt={class:"quantity-price-container"},Yt={class:"quantity-number"},Xt={class:"total-price"},Zt={class:"right"},es={class:"form"},ts={class:"group"},ss={class:"group"},rs={class:"group"},os={class:"group"},is={class:"group"},as={class:"return"},ns={class:"row"},ls={class:"totalQuantity"},ds={class:"row"},us={class:"totalPrice"},cs={class:"row"},ms={class:"deliveryFee"},ps={class:"row total"},gs={class:"totalPrice"};function fs(s,e,n,c,o,a){const i=D("router-link");return d(),u(v,null,[e[26]||(e[26]=t("div",{class:"background-image"},null,-1)),t("div",Vt,[t("div",Bt,[t("div",Jt,[y(i,{to:"/order"},{default:h(()=>e[7]||(e[7]=[m("Keep Shopping")])),_:1}),e[8]||(e[8]=t("h1",null,"List Product in Cart",-1)),t("div",zt,[(d(!0),u(v,null,w(o.cartItems,(r,g)=>(d(),u("div",{key:g,class:"item"},[t("img",{src:"/storage/"+r.image,alt:r.name},null,8,Kt),t("div",Ht,[t("div",Gt,l(r.name),1),t("div",Wt,"₱"+l(r.price.toFixed(2))+"/1 product",1)]),t("div",Qt,[t("span",Yt,l(r.quantity),1),t("span",Xt,"₱"+l((r.price*r.quantity).toFixed(2)),1)])]))),128))])]),t("div",Zt,[e[24]||(e[24]=t("h1",null,"Checkout",-1)),t("form",{onSubmit:e[5]||(e[5]=A((...r)=>a.handleCheckout&&a.handleCheckout(...r),["prevent"]))},[t("div",es,[t("div",ts,[e[9]||(e[9]=t("label",{for:"name"},"Full Name",-1)),f(t("input",{"onUpdate:modelValue":e[0]||(e[0]=r=>o.checkoutData.name=r),type:"text",id:"name",required:""},null,512),[[k,o.checkoutData.name]])]),t("div",ss,[e[10]||(e[10]=t("label",{for:"phone"},"Phone Number",-1)),f(t("input",{"onUpdate:modelValue":e[1]||(e[1]=r=>o.checkoutData.phone=r),type:"number",id:"phone",required:""},null,512),[[k,o.checkoutData.phone]])]),t("div",rs,[e[11]||(e[11]=t("label",{for:"address"},"Address",-1)),f(t("input",{"onUpdate:modelValue":e[2]||(e[2]=r=>o.checkoutData.address=r),type:"text",id:"address",required:""},null,512),[[k,o.checkoutData.address]])]),t("div",os,[e[13]||(e[13]=t("label",{for:"payment"},"Payment",-1)),f(t("select",{"onUpdate:modelValue":e[3]||(e[3]=r=>o.checkoutData.payment=r),id:"payment",required:""},e[12]||(e[12]=[t("option",{value:""},"Choose..",-1),t("option",{value:"COD"},"Cash on Delivery",-1),t("option",{value:"COPU"},"Cash on Pick Up",-1),t("option",{value:"GCASH"},"GCASH",-1)]),512),[[E,o.checkoutData.payment]])]),t("div",is,[e[15]||(e[15]=t("label",{for:"card"},"If Card for Payment",-1)),f(t("select",{"onUpdate:modelValue":e[4]||(e[4]=r=>o.checkoutData.card=r),id:"card"},e[14]||(e[14]=[t("option",{value:""},"Choose..",-1),t("option",{value:"Metrobank"},"Metrobank",-1),t("option",{value:"ChinaBank"},"ChinaBank",-1)]),512),[[E,o.checkoutData.card]])])]),t("div",as,[t("div",ns,[e[16]||(e[16]=t("div",null,"Total Quantity",-1)),t("div",ls,l(a.totalQuantity),1)]),t("div",ds,[e[17]||(e[17]=t("div",null,"Subtotal",-1)),t("div",us,"₱"+l(a.subtotal.toFixed(2)),1)]),t("div",cs,[e[18]||(e[18]=t("div",null,"Delivery Fee",-1)),t("div",ms,"₱"+l(o.deliveryFee.toFixed(2)),1)]),t("div",ps,[e[19]||(e[19]=t("div",null,[t("strong",null,"Total Price")],-1)),t("div",gs,[t("strong",null,"₱"+l(a.totalPrice.toFixed(2)),1)])])]),e[20]||(e[20]=t("button",{type:"submit",class:"buttonCheckout"},"CHECKOUT",-1))],32),t("div",{class:C(["popup",{"open-popup":o.popupOpen}])},[e[21]||(e[21]=t("img",{src:"images/tick.png"},null,-1)),e[22]||(e[22]=t("h2",null,"Please Wait",-1)),e[23]||(e[23]=t("h1",null,"Your order is being processed, please wait till the delivery rider calls your number. Thank you!",-1)),t("button",{onClick:e[6]||(e[6]=(...r)=>a.closePopup&&a.closePopup(...r))},"OK")],2)])]),e[25]||(e[25]=t("div",{class:"footer"},[t("p",null,[m("Copyright ©2023; Designed by "),t("span",{class:"designer"},"Kenny Fazbear")])],-1))])],64)}const j=_(jt,[["render",fs],["__scopeId","data-v-bd030e47"]]),hs={name:"Delivery",data(){return{messages:["Your placed an order, you have 1 minute to cancel if you change your mind.","Preparing your order","The rider got your order and is on his way to deliver it to you","The rider is just around the corner, please wait for his call","Thank you for waiting, you have received your order."],currentMessageIndex:0,interval:null,orderNumber:"",totalAmount:"0.00",paymentMethod:"",popupActive:!1,orderDetails:null}},computed:{...R({deliveryStatus:s=>s.deliveryStatus,storeMessage:s=>s.deliveryMessage,timeRemaining:s=>s.timeRemaining,isActive:s=>s.isActive}),progress(){return this.timeRemaining/600*100},formattedTimer(){const s=Math.floor(this.timeRemaining/60),e=this.timeRemaining%60;return`${s.toString().padStart(2,"0")}:${e.toString().padStart(2,"0")}`},currentMessage(){return this.timeRemaining>540?this.messages[0]:this.timeRemaining>300?this.messages[1]:this.timeRemaining>180?this.messages[2]:this.timeRemaining>0?this.messages[3]:this.messages[4]},formattedAmount(){return parseFloat(this.totalAmount).toFixed(2)}},methods:{...J(["updateDeliveryStatus","updateTimeRemaining"]),async fetchOrderDetails(){try{const s=sessionStorage.getItem("orderId");if(!s)return;const n=(await p.get(`/api/orders/${s}`)).data;this.orderNumber=n.id,this.totalAmount=n.total,this.paymentMethod=n.customer.payment,this.orderDetails=n}catch(s){console.error("Error fetching order details:",s)}},startCountdown(){this.isActive?this.updateDeliveryStatus({status:!0,message:this.currentMessage,isActive:!0}):(this.updateDeliveryStatus({status:!0,message:this.messages[0],isActive:!0}),this.updateTimeRemaining(600)),this.interval=setInterval(()=>{this.timeRemaining>0?(this.updateTimeRemaining(this.timeRemaining-1),this.timeRemaining===540?this.updateDeliveryStatus({status:!0,message:this.messages[1],isActive:!0}):this.timeRemaining===300?this.updateDeliveryStatus({status:!0,message:this.messages[2],isActive:!0}):this.timeRemaining===180&&this.updateDeliveryStatus({status:!0,message:this.messages[3],isActive:!0})):(clearInterval(this.interval),this.updateDeliveryStatus({status:!1,message:this.messages[4],isActive:!1}))},1e3)},goBack(){this.$router.push("/order")},showPopup(){this.popupActive=!this.popupActive},downloadReceipt(){window.open("/receipt","_blank")},async cancelOrder(){var s,e;try{const n=sessionStorage.getItem("orderId");if(!n)return;await p.delete(`/api/orders/${n}/cancel`),clearInterval(this.interval),this.updateDeliveryStatus({status:!1,message:"Order cancelled",isActive:!1}),sessionStorage.removeItem("orderId"),this.$router.push("/order")}catch(n){console.error("Error cancelling order:",n),alert("Failed to cancel order: "+(((e=(s=n.response)==null?void 0:s.data)==null?void 0:e.message)||n.message))}}},async mounted(){await this.fetchOrderDetails(),this.startCountdown()},beforeUnmount(){this.interval&&clearInterval(this.interval)}},vs={class:"main-container"},ys={class:"left-container"},bs={class:"container"},ws={class:"progress-container"},ks={id:"timer"},_s={class:"message"},Cs={class:"right-container"},Ds={class:"order-details"},Ss={class:"details"},Ps={class:"popup-content"};function As(s,e,n,c,o,a){return d(),u(v,null,[t("div",vs,[t("div",ys,[t("button",{class:"back-button",onClick:e[0]||(e[0]=(...i)=>a.goBack&&a.goBack(...i))},e[5]||(e[5]=[t("i",{class:"fas fa-arrow-left"},null,-1),m(" Back ")])),t("div",bs,[e[6]||(e[6]=t("img",{src:"images/drive1.gif",alt:""},null,-1)),t("div",ws,[t("div",{class:"progress-bar",style:x({width:a.progress+"%"})},null,4)]),t("h1",ks,l(a.formattedTimer),1),t("p",_s,l(s.storeMessage),1),s.timeRemaining>=540?(d(),u("button",{key:0,class:"cancel-button",onClick:e[1]||(e[1]=(...i)=>a.cancelOrder&&a.cancelOrder(...i))}," Cancel Order ")):b("",!0)])]),t("div",Cs,[t("div",Ds,[e[10]||(e[10]=t("h2",null,"Order Details",-1)),t("div",Ss,[t("p",null,[e[7]||(e[7]=t("strong",null,"Order Number:",-1)),m(" "+l(o.orderNumber),1)]),t("p",null,[e[8]||(e[8]=t("strong",null,"Total Amount:",-1)),m(" ₱"+l(a.formattedAmount),1)]),t("p",null,[e[9]||(e[9]=t("strong",null,"Payment Method:",-1)),m(" "+l(o.paymentMethod),1)])])]),t("button",{class:"receipt-button",onClick:e[2]||(e[2]=(...i)=>a.showPopup&&a.showPopup(...i))}," View Receipt ")])]),t("div",{class:C(["popup",{active:o.popupActive}])},[t("div",Ps,[e[11]||(e[11]=t("h2",null,"Receipt",-1)),e[12]||(e[12]=t("p",null,"Your order has been confirmed!",-1)),t("button",{onClick:e[3]||(e[3]=(...i)=>a.downloadReceipt&&a.downloadReceipt(...i))},"Download Receipt"),t("button",{onClick:e[4]||(e[4]=(...i)=>a.showPopup&&a.showPopup(...i))},"Close")])],2)],64)}const V=_(hs,[["render",As],["__scopeId","data-v-9e389231"]]),Is={name:"Receipt",data(){return{orderDetails:null,error:null,invoiceNumber:Math.floor(Math.random()*900+100).toString(),deliveryFee:50}},computed:{totalQuantity(){return this.orderDetails?this.orderDetails.items.reduce((s,e)=>s+e.quantity,0):0},totalPrice(){return this.orderDetails?this.orderDetails.items.reduce((s,e)=>s+e.price*e.quantity,0):0}},methods:{async fetchOrderDetails(){try{const s=sessionStorage.getItem("orderId");if(!s){console.error("No order ID found"),this.error="No order ID found. Please try again.";return}const e=await p.get(`/api/orders/${s}`);console.log("Order details:",e.data),this.orderDetails=e.data}catch(s){console.error("Error fetching order details:",s),this.error="Failed to load receipt. Please try again."}},printReceipt(){window.print()}},async created(){await this.fetchOrderDetails()}},Es={class:"receipt-container"},$s={key:0,class:"error-message"},xs={key:1,class:"loading"},Us={key:2,class:"receipt",ref:"receiptContent"},Os={class:"invoice-number"},Ms={class:"client-info"},Rs={class:"info-grid"},Ns={class:"order-items"},Fs={class:"grand-total"};function Ts(s,e,n,c,o,a){return d(),u("div",Es,[t("div",{class:"print-button",onClick:e[0]||(e[0]=(...i)=>a.printReceipt&&a.printReceipt(...i))},e[1]||(e[1]=[t("button",{class:"btn-print"},[t("i",{class:"fas fa-print"}),m(" Print Receipt ")],-1)])),o.error?(d(),u("div",$s,l(o.error),1)):o.orderDetails?(d(),u("div",Us,[t("div",Os," Invoice No. "+l(o.invoiceNumber),1),e[11]||(e[11]=P('<div class="company-info" data-v-fecb0925><div class="company-header" data-v-fecb0925><img src="/images/logo1.png" alt="Company Logo" class="company-logo" data-v-fecb0925><div class="company-text" data-v-fecb0925><h1 data-v-fecb0925>Universal Fast Food</h1><p data-v-fecb0925>Borromeo St. Surigao City</p></div></div></div><div class="divider" data-v-fecb0925></div>',2)),t("div",Ms,[e[6]||(e[6]=t("h2",null,"Client",-1)),t("div",Rs,[t("p",null,[e[2]||(e[2]=t("strong",null,"Name:",-1)),m(" "+l(o.orderDetails.customer.name),1)]),t("p",null,[e[3]||(e[3]=t("strong",null,"Phone:",-1)),m(" "+l(o.orderDetails.customer.phone),1)]),t("p",null,[e[4]||(e[4]=t("strong",null,"Address:",-1)),m(" "+l(o.orderDetails.customer.address),1)]),t("p",null,[e[5]||(e[5]=t("strong",null,"Payment Method:",-1)),m(" "+l(o.orderDetails.customer.payment),1)])])]),t("div",Ns,[t("table",null,[e[10]||(e[10]=t("thead",null,[t("tr",null,[t("th",null,"Item"),t("th",null,"Price"),t("th",null,"Quantity"),t("th",null,"Total")])],-1)),t("tbody",null,[(d(!0),u(v,null,w(o.orderDetails.items,i=>(d(),u("tr",{key:i.id},[t("td",null,l(i.product.name),1),t("td",null,"₱"+l(Number(i.price).toFixed(2)),1),t("td",null,l(i.quantity),1),t("td",null,"₱"+l((Number(i.price)*i.quantity).toFixed(2)),1)]))),128))]),t("tfoot",null,[t("tr",null,[e[7]||(e[7]=t("td",{colspan:"2"},[t("strong",null,"Subtotal:")],-1)),t("td",null,[t("strong",null,l(a.totalQuantity),1)]),t("td",null,[t("strong",null,"₱"+l(a.totalPrice.toFixed(2)),1)])]),t("tr",null,[e[8]||(e[8]=t("td",{colspan:"3"},[t("strong",null,"Delivery Fee:")],-1)),t("td",null,[t("strong",null,"₱"+l(o.deliveryFee.toFixed(2)),1)])]),t("tr",Fs,[e[9]||(e[9]=t("td",{colspan:"3"},[t("strong",null,"Total Amount:")],-1)),t("td",null,[t("strong",null,"₱"+l((a.totalPrice+o.deliveryFee).toFixed(2)),1)])])])])]),e[12]||(e[12]=P('<div class="signature-section" data-v-fecb0925><img src="/images/signature2.png" alt="Director Signature" class="signature" data-v-fecb0925><div class="director-name" data-v-fecb0925><p data-v-fecb0925>Director Name</p></div></div><div class="footer" data-v-fecb0925><div class="social-links" data-v-fecb0925><a href="#" class="social-link" data-v-fecb0925><i class="fab fa-facebook" data-v-fecb0925></i> Ken Perandos</a><a href="#" class="social-link" data-v-fecb0925><i class="fab fa-twitter" data-v-fecb0925></i> mendokusei699</a><a href="#" class="social-link" data-v-fecb0925><i class="fab fa-github" data-v-fecb0925></i> Universal Fast Food</a><a href="#" class="social-link" data-v-fecb0925><i class="fab fa-instagram" data-v-fecb0925></i> Uff Fast Food</a></div></div>',2))],512)):(d(),u("div",xs," Loading receipt... "))])}const Ls=_(Is,[["render",Ts],["__scopeId","data-v-fecb0925"]]),qs={name:"MyProfile",data(){return{user:{name:"",email:"",number:"",address:"",profile_picture:null,profile_picture_url:null},selectedFile:null,previewUrl:null,rating:0,reviewMessage:"",review:{rating:0,message:""},activeTab:"experience",isSeller:!1,loading:!0,error:null}},computed:{profilePictureUrl(){return this.previewUrl?this.previewUrl:this.user.profile_picture_url?this.user.profile_picture_url:"/images/admin.png"}},methods:{handleImageError(s){console.error("Image failed to load:",s.target.src),s.target.src="/images/admin.png"},async uploadPicture(){var e,n;if(!this.selectedFile)return;const s=new FormData;s.append("profile_picture",this.selectedFile),s.append("_token",document.querySelector('meta[name="csrf-token"]').getAttribute("content"));try{const c=await p.post("/profile/upload-picture",s,{headers:{"Content-Type":"multipart/form-data","X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}});c.data.status==="success"&&(this.user.profile_picture=c.data.path,this.user.profile_picture_url=c.data.url,this.selectedFile=null,this.previewUrl=null,alert("Profile picture updated successfully"))}catch(c){console.error("Error uploading profile picture:",c),alert(((n=(e=c.response)==null?void 0:e.data)==null?void 0:n.message)||"Failed to upload profile picture")}},async fetchUserData(){var s;try{const e=await p.get("/api/profile");if(e.data&&e.data.user){const n=(s=this.user)==null?void 0:s.profile_picture_url;this.user=e.data.user,this.isSeller=this.user.role==="seller",console.log("User role:",this.user.role,"isSeller:",this.isSeller),n&&!this.user.profile_picture_url&&(this.user.profile_picture_url=n)}}catch(e){console.error("Error fetching user data:",e),this.error=e.message}finally{this.loading=!1}},handleFileSelect(s){const e=s.target.files[0];e&&(this.selectedFile=e,this.previewUrl=URL.createObjectURL(e))},cancelUpload(){this.selectedFile=null,this.previewUrl=null},async submitReview(){if(this.review.rating===0){alert("Please select a rating");return}if(!this.review.message.trim()){alert("Please write a review message");return}try{await p.post("/api/reviews",this.review),alert("Thank you for your review!"),this.review.rating=0,this.review.message=""}catch(s){console.error("Error submitting review:",s),alert("Failed to submit review. Please try again.")}}},mounted(){this.fetchUserData()},beforeUnmount(){this.previewUrl&&URL.revokeObjectURL(this.previewUrl)}},js={class:"profile-page"},Vs={class:"profile-nav"},Bs={class:"profile-container"},Js={class:"profile-header"},zs={class:"profile-picture-container"},Ks=["src"],Hs={key:0,class:"upload-actions"},Gs={class:"profile-info"},Ws={class:"email"},Qs={class:"contact"},Ys={class:"address"},Xs={key:0,class:"review-section"},Zs={class:"review-form"},er={class:"rating"},tr=["onClick"];function sr(s,e,n,c,o,a){const i=D("router-link");return d(),u("div",js,[t("nav",Vs,[y(i,{to:"/order",class:"nav-link"},{default:h(()=>e[7]||(e[7]=[t("i",{class:"fas fa-home"},null,-1),m(" Home ")])),_:1}),y(i,{to:"/profile-settings",class:"nav-link"},{default:h(()=>e[8]||(e[8]=[t("i",{class:"fas fa-cog"},null,-1),m(" Settings ")])),_:1}),o.user&&o.user.role?(d(),u(v,{key:0},[o.user.role==="customer"?(d(),U(i,{key:0,to:"/order-history",class:"nav-link"},{default:h(()=>e[9]||(e[9]=[t("i",{class:"fas fa-history"},null,-1),m(" Order History ")])),_:1})):b("",!0),o.user.role==="seller"?(d(),U(i,{key:1,to:"/my-products",class:"nav-link"},{default:h(()=>e[10]||(e[10]=[t("i",{class:"fas fa-box"},null,-1),m(" My Products ")])),_:1})):b("",!0)],64)):b("",!0)]),t("div",Bs,[t("div",Js,[t("div",zs,[t("img",{src:a.profilePictureUrl,alt:"Profile Picture",class:"profile-image",onError:e[0]||(e[0]=(...r)=>a.handleImageError&&a.handleImageError(...r))},null,40,Ks),t("div",{class:"upload-overlay",onClick:e[1]||(e[1]=r=>s.$refs.fileInput.click())},e[11]||(e[11]=[t("i",{class:"fas fa-camera"},null,-1)]))]),t("input",{type:"file",ref:"fileInput",onChange:e[2]||(e[2]=(...r)=>a.handleFileSelect&&a.handleFileSelect(...r)),accept:"image/*",style:{display:"none"}},null,544),o.selectedFile?(d(),u("div",Hs,[t("button",{onClick:e[3]||(e[3]=(...r)=>a.uploadPicture&&a.uploadPicture(...r)),class:"upload-btn"},e[12]||(e[12]=[t("i",{class:"fas fa-upload"},null,-1),m(" Upload Picture ")])),t("button",{onClick:e[4]||(e[4]=(...r)=>a.cancelUpload&&a.cancelUpload(...r)),class:"cancel-btn"},e[13]||(e[13]=[t("i",{class:"fas fa-times"},null,-1),m(" Cancel ")]))])):b("",!0)]),t("div",Gs,[t("h2",null,l(o.user.name),1),t("p",Ws,l(o.user.email),1),t("p",Qs,l(o.user.number),1),t("p",Ys,l(o.user.address),1)]),o.activeTab==="experience"?(d(),u("div",Xs,[e[14]||(e[14]=t("h2",null,"Share Your Experience",-1)),t("div",Zs,[t("div",er,[(d(),u(v,null,w(5,r=>t("span",{key:r,class:C(["star",{active:r<=o.review.rating}]),onClick:g=>o.review.rating=r}," ★ ",10,tr)),64))]),f(t("textarea",{"onUpdate:modelValue":e[5]||(e[5]=r=>o.review.message=r),placeholder:"Share your experience with us...",rows:"4"},null,512),[[k,o.review.message]]),t("button",{onClick:e[6]||(e[6]=(...r)=>a.submitReview&&a.submitReview(...r)),class:"submit-review"},"Submit Review")])])):b("",!0)])])}const rr=_(qs,[["render",sr],["__scopeId","data-v-1f4ac6d7"]]),or={name:"ProfileSettings",data(){return{formData:{name:"",email:"",phone:"",address:"",password:"",password_confirmation:""}}},methods:{async fetchUserData(){try{const e=(await p.get("/api/profile")).data.user;this.formData.name=e.name,this.formData.email=e.email,this.formData.phone=e.phone||"",this.formData.address=e.address||""}catch(s){console.error("Error fetching user data:",s)}},async updateProfile(){var s,e;try{const n={name:this.formData.name,email:this.formData.email,phone:this.formData.phone,address:this.formData.address};this.formData.password&&(n.password=this.formData.password,n.password_confirmation=this.formData.password_confirmation);const c=await p.put("/api/profile",n);alert("Profile updated successfully!")}catch(n){console.error("Error updating profile:",n),alert(((e=(s=n.response)==null?void 0:s.data)==null?void 0:e.message)||"Failed to update profile")}}},created(){this.fetchUserData()}},ir={class:"settings-page"},ar={class:"profile-nav"},nr={class:"settings-container"},lr={class:"form-group"},dr={class:"form-group"},ur={class:"form-group"},cr={class:"form-group"},mr={class:"form-group"},pr={class:"form-group"};function gr(s,e,n,c,o,a){const i=D("router-link");return d(),u("div",ir,[t("nav",ar,[y(i,{to:"/order",class:"nav-link"},{default:h(()=>e[7]||(e[7]=[t("i",{class:"fas fa-home"},null,-1),m(" Home ")])),_:1}),y(i,{to:"/profile",class:"nav-link"},{default:h(()=>e[8]||(e[8]=[t("i",{class:"fas fa-user"},null,-1),m(" My Profile ")])),_:1})]),t("div",nr,[e[16]||(e[16]=t("h2",null,"Profile Settings",-1)),t("form",{onSubmit:e[6]||(e[6]=A((...r)=>a.updateProfile&&a.updateProfile(...r),["prevent"])),class:"settings-form"},[t("div",lr,[e[9]||(e[9]=t("label",{for:"name"},"Name",-1)),f(t("input",{type:"text",id:"name","onUpdate:modelValue":e[0]||(e[0]=r=>o.formData.name=r),required:""},null,512),[[k,o.formData.name]])]),t("div",dr,[e[10]||(e[10]=t("label",{for:"email"},"Email",-1)),f(t("input",{type:"email",id:"email","onUpdate:modelValue":e[1]||(e[1]=r=>o.formData.email=r),required:""},null,512),[[k,o.formData.email]])]),t("div",ur,[e[11]||(e[11]=t("label",{for:"phone"},"Contact Number",-1)),f(t("input",{type:"text",id:"phone","onUpdate:modelValue":e[2]||(e[2]=r=>o.formData.phone=r)},null,512),[[k,o.formData.phone]])]),t("div",cr,[e[12]||(e[12]=t("label",{for:"address"},"Address",-1)),f(t("textarea",{id:"address","onUpdate:modelValue":e[3]||(e[3]=r=>o.formData.address=r),rows:"3"},null,512),[[k,o.formData.address]])]),t("div",mr,[e[13]||(e[13]=t("label",{for:"password"},"New Password (leave blank to keep current)",-1)),f(t("input",{type:"password",id:"password","onUpdate:modelValue":e[4]||(e[4]=r=>o.formData.password=r)},null,512),[[k,o.formData.password]])]),t("div",pr,[e[14]||(e[14]=t("label",{for:"password_confirmation"},"Confirm New Password",-1)),f(t("input",{type:"password",id:"password_confirmation","onUpdate:modelValue":e[5]||(e[5]=r=>o.formData.password_confirmation=r)},null,512),[[k,o.formData.password_confirmation]])]),e[15]||(e[15]=t("button",{type:"submit",class:"save-btn"},"Save Changes",-1))],32)])])}const fr=_(or,[["render",gr],["__scopeId","data-v-6983d1b5"]]),hr={name:"OrderHistory",data(){return{orders:[],loading:!0,error:null,defaultImageUrl:"/images/default-product.png"}},methods:{async fetchOrders(){var s,e;this.loading=!0,this.error=null;try{const n=await p.get("/api/orders/history");if(console.log("Orders response:",n.data),n.data.error)throw new Error(n.data.error);if(n.data.message)throw new Error(n.data.message);if(!Array.isArray(n.data))throw console.error("Unexpected response format:",n.data),new Error("Invalid response format from server");this.orders=n.data.filter(c=>!c||!c.items||!Array.isArray(c.items)?(console.warn("Invalid order format:",c),!1):c.items.length>0),this.orders.length===0&&(console.log("No orders found or all orders were filtered out"),this.error="No orders found in your history.")}catch(n){console.error("Error fetching orders:",n),this.error=((e=(s=n.response)==null?void 0:s.data)==null?void 0:e.message)||n.message||"Failed to load orders. Please try again."}finally{this.loading=!1}},formatDate(s){return new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})},formatPrice(s){return Number(s).toFixed(2)},handleImageError(s){s.target.src=this.defaultImageUrl},viewOrderDetails(s){this.$router.push(`/order-details/${s}`)}},mounted(){this.fetchOrders()}},vr={class:"order-history"},yr={class:"header"},br={class:"orders-container"},wr={key:0,class:"loading"},kr={key:1,class:"error"},_r={key:2,class:"no-orders"},Cr={key:3,class:"orders-list"},Dr={class:"order-header"},Sr={class:"order-info"},Pr={class:"order-id"},Ar={class:"order-date"},Ir={class:"order-items"},Er=["src","alt"],$r={class:"item-details"},xr={class:"item-price"},Ur={class:"order-footer"},Or={class:"order-total"},Mr={class:"total-amount"},Rr=["onClick"];function Nr(s,e,n,c,o,a){const i=D("router-link");return d(),u("div",vr,[t("div",yr,[y(i,{to:"/profile",class:"back-btn"},{default:h(()=>e[2]||(e[2]=[t("i",{class:"fas fa-arrow-left"},null,-1),m(" Back to Profile ")])),_:1}),e[3]||(e[3]=t("h2",null,"Order History",-1))]),t("div",br,[o.loading?(d(),u("div",wr,e[4]||(e[4]=[t("i",{class:"fas fa-spinner fa-spin"},null,-1),t("p",null,"Loading your orders...",-1)]))):o.error?(d(),u("div",kr,[e[5]||(e[5]=t("i",{class:"fas fa-exclamation-circle"},null,-1)),t("p",null,l(o.error),1),t("button",{onClick:e[0]||(e[0]=(...r)=>a.fetchOrders&&a.fetchOrders(...r)),class:"retry-btn"},"Try Again")])):o.orders.length?(d(),u("div",Cr,[(d(!0),u(v,null,w(o.orders,r=>(d(),u("div",{key:r.id,class:"order-card"},[t("div",Dr,[t("div",Sr,[t("span",Pr,"#"+l(r.id),1),t("span",Ar,l(a.formatDate(r.created_at)),1)]),t("span",{class:C(["order-status",r.status.toLowerCase()])},l(r.status),3)]),t("div",Ir,[(d(!0),u(v,null,w(r.items,g=>(d(),u("div",{key:g.id,class:"order-item"},[t("img",{src:g.product.image_url,alt:g.product.name,onError:e[1]||(e[1]=(...I)=>a.handleImageError&&a.handleImageError(...I)),class:"item-image"},null,40,Er),t("div",$r,[t("h4",null,l(g.product.name),1),t("p",null,"Quantity: "+l(g.quantity),1),t("p",xr,"₱"+l(a.formatPrice(g.price)),1)])]))),128))]),t("div",Ur,[t("div",Or,[e[9]||(e[9]=t("span",null,"Total:",-1)),t("span",Mr,"₱"+l(a.formatPrice(r.total)),1)]),t("button",{onClick:g=>a.viewOrderDetails(r.id),class:"view-details-btn"}," View Details ",8,Rr)])]))),128))])):(d(),u("div",_r,[e[7]||(e[7]=t("i",{class:"fas fa-shopping-bag"},null,-1)),e[8]||(e[8]=t("p",null,"No orders found",-1)),y(i,{to:"/order",class:"order-now-btn"},{default:h(()=>e[6]||(e[6]=[m(" Order Now ")])),_:1})]))])])}const Fr=_(hr,[["render",Nr],["__scopeId","data-v-8c510c8b"]]),Tr={name:"CreateProduct",data(){return{product:{name:"",price:"",image:null}}},methods:{handleImageUpload(s){this.product.image=s.target.files[0]},async createProduct(){var s,e;try{const n=new FormData;n.append("name",this.product.name),n.append("price",this.product.price),n.append("image",this.product.image),(await p.post("/products",n,{headers:{"Content-Type":"multipart/form-data",Accept:"application/json"}})).data.success&&(alert("Product created successfully!"),this.$router.push("/my-products"))}catch(n){console.error("Error creating product:",n),alert(((e=(s=n.response)==null?void 0:s.data)==null?void 0:e.message)||"Error creating product")}}}},Lr={class:"create-product-page"},qr={class:"profile-nav"},jr={class:"form-container"},Vr={class:"form-group"},Br={class:"form-group"},Jr={class:"form-group"},zr={class:"button-group"};function Kr(s,e,n,c,o,a){const i=D("router-link");return d(),u("div",Lr,[t("nav",qr,[y(i,{to:"/my-products",class:"nav-link"},{default:h(()=>e[4]||(e[4]=[t("i",{class:"fas fa-arrow-left"},null,-1),m(" Back to Products ")])),_:1})]),t("div",jr,[e[10]||(e[10]=t("h2",null,"Add New Product",-1)),t("form",{onSubmit:e[3]||(e[3]=A((...r)=>a.createProduct&&a.createProduct(...r),["prevent"])),class:"product-form"},[t("div",Vr,[e[5]||(e[5]=t("label",{for:"productName"},"Product Name:",-1)),f(t("input",{type:"text",id:"productName","onUpdate:modelValue":e[0]||(e[0]=r=>o.product.name=r),required:""},null,512),[[k,o.product.name]])]),t("div",Br,[e[6]||(e[6]=t("label",{for:"productPrice"},"Price:",-1)),f(t("input",{type:"number",id:"productPrice","onUpdate:modelValue":e[1]||(e[1]=r=>o.product.price=r),step:"0.01",required:""},null,512),[[k,o.product.price]])]),t("div",Jr,[e[7]||(e[7]=t("label",{for:"productImage"},"Product Image:",-1)),t("input",{type:"file",id:"productImage",onChange:e[2]||(e[2]=(...r)=>a.handleImageUpload&&a.handleImageUpload(...r)),accept:"image/*",required:""},null,32)]),t("div",zr,[e[9]||(e[9]=t("button",{type:"submit",class:"submit-btn"},"Create Product",-1)),y(i,{to:"/my-products",class:"cancel-btn"},{default:h(()=>e[8]||(e[8]=[m("Cancel")])),_:1})])],32)])])}const Hr=_(Tr,[["render",Kr],["__scopeId","data-v-26b0180a"]]),Gr={name:"OrderDetails",data(){return{order:null,loading:!0,error:null,defaultImageUrl:"/images/default-product.png",showReviewModal:!1,selectedItem:null,rating:0,reviewText:""}},computed:{canCancel(){return this.order&&["Pending","Processing"].includes(this.order.status)}},methods:{async fetchOrderDetails(){this.loading=!0,this.error=null;try{const s=await p.get(`/api/orders/${this.$route.params.id}`);console.log("Order details:",s.data),this.order=s.data}catch(s){console.error("Error fetching order details:",s),this.error="Failed to load order details. Please try again."}finally{this.loading=!1}},formatDate(s){if(!s)return"N/A";const e=new Date(s);return isNaN(e.getTime())?(console.error("Invalid date:",s),"Invalid Date"):e.toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit",hour12:!0})},formatPrice(s){return typeof s!="number"&&(s=Number(s)),s.toFixed(2)},handleImageError(s){s.target.src=this.defaultImageUrl},isStatusActive(s){const e=["Pending","Processing","Out for Delivery","Completed"],n=e.indexOf(this.order.status);return e.indexOf(s)<=n},async reorder(){try{const s=this.order.items.map(e=>({id:e.product.id,name:e.product.name,price:e.price,quantity:e.quantity,image:e.product.image_url}));this.$store.commit("setCartItems",s),this.$router.push("/order")}catch(s){console.error("Error reordering:",s)}},async cancelOrder(){if(confirm("Are you sure you want to cancel this order?"))try{await p.post(`/api/orders/${this.order.id}/cancel`),this.fetchOrderDetails()}catch(s){console.error("Error canceling order:",s)}},openReviewModal(s){this.selectedItem=s,this.showReviewModal=!0,this.rating=0,this.reviewText=""},closeReviewModal(){this.showReviewModal=!1,this.selectedItem=null,this.rating=0,this.reviewText=""},async submitReview(){if(!this.rating){alert("Please select a rating");return}try{await p.post("/api/reviews",{product_id:this.selectedItem.product.id,rating:this.rating,comment:this.reviewText}),this.closeReviewModal()}catch(s){console.error("Error submitting review:",s)}}},mounted(){this.fetchOrderDetails()}},Wr={class:"order-details"},Qr={class:"header"},Yr={key:0,class:"loading"},Xr={key:1,class:"error"},Zr={key:2,class:"order-content"},eo={class:"order-status-card"},to={class:"status-header"},so={class:"order-id"},ro={class:"status-timeline"},oo={class:"step-time"},io={class:"info-section"},ao={class:"delivery-info"},no={class:"info-content"},lo={class:"items-section"},uo={class:"items-list"},co=["src","alt"],mo={class:"item-details"},po={class:"quantity"},go={class:"price"},fo=["onClick"],ho={class:"order-summary"},vo={class:"summary-row"},yo={class:"summary-row"},bo={class:"summary-row total"},wo={class:"action-buttons"},ko={key:3,class:"review-modal"},_o={class:"modal-content"},Co={class:"review-form"},Do={class:"rating"},So=["onClick"],Po={class:"modal-buttons"};function Ao(s,e,n,c,o,a){const i=D("router-link");return d(),u("div",Wr,[t("div",Qr,[y(i,{to:"/order-history",class:"back-btn"},{default:h(()=>e[6]||(e[6]=[t("i",{class:"fas fa-arrow-left"},null,-1),m(" Back to Orders ")])),_:1}),e[7]||(e[7]=t("h2",null,"Order Details",-1))]),o.loading?(d(),u("div",Yr,e[8]||(e[8]=[t("i",{class:"fas fa-spinner fa-spin"},null,-1),t("p",null,"Loading order details...",-1)]))):o.error?(d(),u("div",Xr,[e[9]||(e[9]=t("i",{class:"fas fa-exclamation-circle"},null,-1)),t("p",null,l(o.error),1),t("button",{onClick:e[0]||(e[0]=(...r)=>a.fetchOrderDetails&&a.fetchOrderDetails(...r)),class:"retry-btn"},"Try Again")])):o.order?(d(),u("div",Zr,[t("div",eo,[t("div",to,[e[10]||(e[10]=t("h3",null,"Order Status",-1)),t("span",so,"#"+l(o.order.id),1)]),t("div",ro,[t("div",{class:C(["status-step",{active:a.isStatusActive("Pending")}])},[e[11]||(e[11]=t("div",{class:"step-icon"},[t("i",{class:"fas fa-clock"})],-1)),e[12]||(e[12]=t("div",{class:"step-label"},"Order Placed",-1)),t("div",oo,l(a.formatDate(o.order.created_at)),1)],2),t("div",{class:C(["status-step",{active:a.isStatusActive("Processing")}])},e[13]||(e[13]=[t("div",{class:"step-icon"},[t("i",{class:"fas fa-kitchen-set"})],-1),t("div",{class:"step-label"},"Preparing",-1)]),2),t("div",{class:C(["status-step",{active:a.isStatusActive("Out for Delivery")}])},e[14]||(e[14]=[t("div",{class:"step-icon"},[t("i",{class:"fas fa-motorcycle"})],-1),t("div",{class:"step-label"},"On the Way",-1)]),2),t("div",{class:C(["status-step",{active:a.isStatusActive("Completed")}])},e[15]||(e[15]=[t("div",{class:"step-icon"},[t("i",{class:"fas fa-check-circle"})],-1),t("div",{class:"step-label"},"Delivered",-1)]),2)])]),t("div",io,[t("div",ao,[e[20]||(e[20]=t("h3",null,"Delivery Information",-1)),t("div",no,[t("p",null,[e[16]||(e[16]=t("strong",null,"Name:",-1)),m(" "+l(o.order.customer.name),1)]),t("p",null,[e[17]||(e[17]=t("strong",null,"Phone:",-1)),m(" "+l(o.order.customer.phone),1)]),t("p",null,[e[18]||(e[18]=t("strong",null,"Address:",-1)),m(" "+l(o.order.customer.address),1)]),t("p",null,[e[19]||(e[19]=t("strong",null,"Payment Method:",-1)),m(" "+l(o.order.customer.payment),1)])])])]),t("div",lo,[e[24]||(e[24]=t("h3",null,"Ordered Items",-1)),t("div",uo,[(d(!0),u(v,null,w(o.order.items,r=>(d(),u("div",{key:r.id,class:"order-item"},[t("img",{src:r.product.image_url,alt:r.product.name,onError:e[1]||(e[1]=(...g)=>a.handleImageError&&a.handleImageError(...g)),class:"item-image"},null,40,co),t("div",mo,[t("h4",null,l(r.product.name),1),t("p",po,"Quantity: "+l(r.quantity),1),t("p",go,"₱"+l(a.formatPrice(r.price)),1)]),o.order.status==="Completed"?(d(),u("button",{key:0,onClick:g=>a.openReviewModal(r),class:"review-btn"}," Leave Review ",8,fo)):b("",!0)]))),128))]),t("div",ho,[t("div",vo,[e[21]||(e[21]=t("span",null,"Subtotal:",-1)),t("span",null,"₱"+l(a.formatPrice(o.order.subtotal)),1)]),t("div",yo,[e[22]||(e[22]=t("span",null,"Delivery Fee:",-1)),t("span",null,"₱"+l(a.formatPrice(o.order.delivery_fee)),1)]),t("div",bo,[e[23]||(e[23]=t("span",null,"Total:",-1)),t("span",null,"₱"+l(a.formatPrice(o.order.total)),1)])])]),t("div",wo,[t("button",{onClick:e[2]||(e[2]=(...r)=>a.reorder&&a.reorder(...r)),class:"reorder-btn"},e[25]||(e[25]=[t("i",{class:"fas fa-shopping-cart"},null,-1),m(" Order Again ")]))])])):b("",!0),o.showReviewModal?(d(),u("div",ko,[t("div",_o,[e[26]||(e[26]=t("h3",null,"Write a Review",-1)),t("div",Co,[t("div",Do,[(d(),u(v,null,w(5,r=>t("i",{key:r,class:C(["fas fa-star",{active:r<=o.rating}]),onClick:g=>o.rating=r},null,10,So)),64))]),f(t("textarea",{"onUpdate:modelValue":e[3]||(e[3]=r=>o.reviewText=r),placeholder:"Write your review here...",rows:"4"},null,512),[[k,o.reviewText]]),t("div",Po,[t("button",{onClick:e[4]||(e[4]=(...r)=>a.submitReview&&a.submitReview(...r)),class:"submit-btn"},"Submit Review"),t("button",{onClick:e[5]||(e[5]=(...r)=>a.closeReviewModal&&a.closeReviewModal(...r)),class:"cancel-btn"},"Cancel")])])])])):b("",!0)])}const Io=_(Gr,[["render",Ao],["__scopeId","data-v-e18aa446"]]),Eo={name:"MyProducts",data(){return{products:[]}},created(){this.fetchProducts()},methods:{async fetchProducts(){try{const s=localStorage.getItem("user");console.log("User data:",s);const e=await p.get("/my-products");console.log("Products response:",e.data),this.products=e.data}catch(s){console.error("Error fetching products:",s),s.response&&console.log("Error response:",s.response.data)}},async deleteProduct(s){var e;if(confirm("Are you sure you want to delete this product?"))try{const n=(e=JSON.parse(localStorage.getItem("user")))==null?void 0:e.token;await p.delete(`/products/${s}`,{headers:{Authorization:`Bearer ${n}`}}),this.fetchProducts()}catch(n){console.error("Error deleting product:",n)}}}},$o={class:"products-page"},xo={class:"nav-bar"},Uo={class:"nav-links"},Oo={class:"content"},Mo={class:"header"},Ro={class:"products-grid"},No=["src","alt"],Fo={class:"product-details"},To={class:"price"},Lo=["onClick"];function qo(s,e,n,c,o,a){const i=D("router-link");return d(),u("div",$o,[t("div",xo,[t("div",Uo,[y(i,{to:"/order",class:"nav-link"},{default:h(()=>e[1]||(e[1]=[t("i",{class:"fas fa-home"},null,-1),m(" Home ")])),_:1}),y(i,{to:"/profile",class:"nav-link"},{default:h(()=>e[2]||(e[2]=[t("i",{class:"fas fa-user"},null,-1),m(" Profile ")])),_:1}),y(i,{to:"/profile-settings",class:"nav-link"},{default:h(()=>e[3]||(e[3]=[t("i",{class:"fas fa-cog"},null,-1),m(" Settings ")])),_:1})])]),t("div",Oo,[t("div",Mo,[e[8]||(e[8]=t("h1",null,"My Products",-1)),y(i,{to:"/order",class:"nav-link"},{default:h(()=>e[4]||(e[4]=[t("i",{class:"fas fa-home"},null,-1),m(" Home ")])),_:1}),y(i,{to:"/profile",class:"nav-link"},{default:h(()=>e[5]||(e[5]=[t("i",{class:"fas fa-user"},null,-1),m(" Profile ")])),_:1}),y(i,{to:"/profile-settings",class:"nav-link"},{default:h(()=>e[6]||(e[6]=[t("i",{class:"fas fa-cog"},null,-1),m(" Settings ")])),_:1}),t("button",{onClick:e[0]||(e[0]=r=>s.$router.push("/create-product")),class:"add-button"},e[7]||(e[7]=[t("i",{class:"fas fa-plus"},null,-1),m(" Add Product ")]))]),t("div",Ro,[(d(!0),u(v,null,w(o.products,r=>(d(),u("div",{key:r.id,class:"product-card"},[t("img",{src:"/storage/"+r.image,alt:r.name},null,8,No),t("div",Fo,[t("h3",null,l(r.name),1),t("p",To,"₱"+l(r.price),1),t("button",{onClick:g=>a.deleteProduct(r.id),class:"delete-button"}," Delete ",8,Lo)])]))),128))])])])}const jo=_(Eo,[["render",qo],["__scopeId","data-v-0935db82"]]),Vo={name:"AdminLogin",data(){return{credentials:{username:"",password:""},error:null,loading:!1}},methods:{async handleLogin(){var s,e;this.loading=!0,this.error=null;try{const n=await p.post("/admin/login",this.credentials);console.log("Login response:",n.data),n.data.success?(localStorage.setItem("isAdmin","true"),n.data.user&&localStorage.setItem("adminUser",JSON.stringify(n.data.user)),this.$router.push("/admin")):this.error=n.data.message||"Login failed"}catch(n){console.error("Login error:",n),this.error=((e=(s=n.response)==null?void 0:s.data)==null?void 0:e.message)||"Login failed"}finally{this.loading=!1}}},created(){localStorage.getItem("isAdmin")==="true"&&this.$router.push({name:"AdminDashboard"})}},Bo={class:"login-container"},Jo={class:"login-box"},zo={class:"input-group"},Ko={class:"input-group"},Ho={key:0,class:"error-message"},Go=["disabled"];function Wo(s,e,n,c,o,a){return d(),u("div",Bo,[t("div",Jo,[e[5]||(e[5]=t("h2",null,"Admin Login",-1)),t("form",{onSubmit:e[2]||(e[2]=A((...i)=>a.handleLogin&&a.handleLogin(...i),["prevent"]))},[t("div",zo,[e[3]||(e[3]=t("label",{for:"username"},"Username",-1)),f(t("input",{type:"text",id:"username","onUpdate:modelValue":e[0]||(e[0]=i=>o.credentials.username=i),placeholder:"Enter username",required:""},null,512),[[k,o.credentials.username]])]),t("div",Ko,[e[4]||(e[4]=t("label",{for:"password"},"Password",-1)),f(t("input",{type:"password",id:"password","onUpdate:modelValue":e[1]||(e[1]=i=>o.credentials.password=i),placeholder:"Enter password",required:""},null,512),[[k,o.credentials.password]])]),o.error?(d(),u("div",Ho,l(o.error),1)):b("",!0),t("button",{type:"submit",disabled:o.loading},l(o.loading?"Logging in...":"Login"),9,Go)],32)])])}const Qo=_(Vo,[["render",Wo],["__scopeId","data-v-c04dcf59"]]),Yo={name:"AdminPanel",methods:{async handleLogout(){try{const s=document.querySelector('meta[name="csrf-token"]').content,e=await p.post("/admin/logout",{},{headers:{"X-CSRF-TOKEN":s}});localStorage.removeItem("isAdmin"),localStorage.removeItem("adminUser"),window.location.href="/admin/login"}catch(s){console.error("Logout failed:",s),window.location.href="/admin/login"}}}},Xo={class:"admin-panel"},Zo={class:"container"};function ei(s,e,n,c,o,a){const i=D("router-link"),r=D("router-view");return d(),u("div",Xo,[e[8]||(e[8]=t("header",null,[t("img",{src:"/images/admin1.png",alt:"Admin Image"}),t("h1",null,"Hello Admin!")],-1)),t("nav",null,[t("ul",null,[t("li",null,[y(i,{to:"/admin/users"},{default:h(()=>e[1]||(e[1]=[m("Users")])),_:1})]),t("li",null,[y(i,{to:"/admin/employees"},{default:h(()=>e[2]||(e[2]=[m("Employees")])),_:1})]),t("li",null,[y(i,{to:"/admin/customers"},{default:h(()=>e[3]||(e[3]=[m("Customers")])),_:1})]),t("li",null,[y(i,{to:"/admin/orders"},{default:h(()=>e[4]||(e[4]=[m("Orders")])),_:1})]),t("li",null,[y(i,{to:"/admin/products"},{default:h(()=>e[5]||(e[5]=[m("Products")])),_:1})]),t("li",null,[y(i,{to:"/admin/order-details"},{default:h(()=>e[6]||(e[6]=[m("Order Details")])),_:1})]),t("li",null,[y(i,{to:"/admin/seller-applications"},{default:h(()=>e[7]||(e[7]=[m("Seller Applications")])),_:1})]),t("li",null,[t("button",{onClick:e[0]||(e[0]=(...g)=>a.handleLogout&&a.handleLogout(...g)),class:"logout-btn"},"Logout")])])]),t("div",Zo,[y(r)]),e[9]||(e[9]=t("footer",null,[t("p",null,"© Design by Kenny Fazbear. (2023)")],-1))])}const ti=_(Yo,[["render",ei],["__scopeId","data-v-0da23b97"]]),si={name:"AdminDashboard",data(){return{orderCount:0,userCount:0,productCount:0}},async created(){try{const[s,e,n]=await Promise.all([p.get("/admin/orders"),p.get("/admin/users"),p.get("/admin/products")]);this.orderCount=s.data.length,this.userCount=e.data.length,this.productCount=n.data.length}catch(s){console.error("Error fetching dashboard data:",s)}}},ri={class:"admin-dashboard"},oi={class:"quick-stats"},ii={class:"stat-card"},ai={class:"stat-value"},ni={class:"stat-card"},li={class:"stat-value"},di={class:"stat-card"},ui={class:"stat-value"};function ci(s,e,n,c,o,a){return d(),u("div",ri,[e[3]||(e[3]=t("div",{class:"welcome-section"},[t("h2",null,"Welcome to the Admin Dashboard"),t("p",null,"Select a section from the navigation menu above to manage your restaurant.")],-1)),t("div",oi,[t("div",ii,[e[0]||(e[0]=t("h3",null,"Total Orders",-1)),t("div",ai,l(o.orderCount),1)]),t("div",ni,[e[1]||(e[1]=t("h3",null,"Total Users",-1)),t("div",li,l(o.userCount),1)]),t("div",di,[e[2]||(e[2]=t("h3",null,"Total Products",-1)),t("div",ui,l(o.productCount),1)])])])}const mi=_(si,[["render",ci],["__scopeId","data-v-88c0f092"]]),pi={name:"Users",data(){return{users:[],componentLoaded:"Yes",dataStatus:"Initializing"}},methods:{async fetchUsers(){this.dataStatus="Fetching";try{console.log("Fetching users...");const s=await p.get("/admin/users");console.log("Response:",s),this.users=s.data,this.dataStatus="Loaded"}catch(s){console.error("Error fetching users:",s),this.dataStatus="Error: "+s.message}},formatDate(s){return s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"},async deleteUser(s){if(confirm("Are you sure you want to delete this user?"))try{await p.delete(`/admin/users/${s}`),this.users=this.users.filter(e=>e.id!==s)}catch(e){console.error("Error deleting user:",e)}}},mounted(){console.log("Users component mounted"),this.fetchUsers()}},gi={class:"users-container"},fi={key:0,class:"table-responsive"},hi=["onClick"],vi={key:1};function yi(s,e,n,c,o,a){return d(),u("div",gi,[e[1]||(e[1]=t("h2",null,"Registered Users",-1)),t("p",null,"Component loaded: "+l(o.componentLoaded),1),t("p",null,"Data status: "+l(o.dataStatus),1),o.users.length>0?(d(),u("div",fi,[t("table",null,[e[0]||(e[0]=t("thead",null,[t("tr",null,[t("th",null,"ID"),t("th",null,"Name"),t("th",null,"Email"),t("th",null,"Phone"),t("th",null,"Address"),t("th",null,"Role"),t("th",null,"Created At"),t("th",null,"Actions")])],-1)),t("tbody",null,[(d(!0),u(v,null,w(o.users,i=>(d(),u("tr",{key:i.id},[t("td",null,l(i.id),1),t("td",null,l(i.name||"N/A"),1),t("td",null,l(i.email||"N/A"),1),t("td",null,l(i.phone||"N/A"),1),t("td",null,l(i.address||"N/A"),1),t("td",null,l(i.role||"N/A"),1),t("td",null,l(a.formatDate(i.created_at)),1),t("td",null,[t("button",{onClick:r=>a.deleteUser(i.id),class:"delete-btn"}," Delete ",8,hi)])]))),128))])])])):(d(),u("div",vi," Loading users... (Count: "+l(o.users.length)+") ",1))])}const bi=_(pi,[["render",yi],["__scopeId","data-v-a47fae9d"]]);document.querySelector('meta[name="csrf-token"]')&&(p.defaults.headers.common["X-CSRF-TOKEN"]=document.querySelector('meta[name="csrf-token"]').content);const wi={name:"Employees",data(){return{employees:[],newEmployee:{first_name:"",last_name:"",email:"",phone_number:"",notes:""}}},methods:{async fetchEmployees(){var s;try{const e=await p.get("/admin/employees");console.log("Fetched employees:",e.data),this.employees=e.data}catch(e){console.error("Error fetching employees:",((s=e.response)==null?void 0:s.data)||e.message)}},async addEmployee(){var s,e,n;try{console.log("Adding employee:",this.newEmployee);const c=await p.post("/admin/employees",this.newEmployee);console.log("Response:",c.data),await this.fetchEmployees(),this.newEmployee={first_name:"",last_name:"",email:"",phone_number:"",notes:""}}catch(c){console.error("Error adding employee:",((s=c.response)==null?void 0:s.data)||c.message),alert("Error adding employee: "+(((n=(e=c.response)==null?void 0:e.data)==null?void 0:n.message)||c.message))}},async deleteEmployee(s){var e,n,c;if(confirm("Are you sure you want to delete this employee?"))try{await p.delete(`/admin/employees/${s}`),this.employees=this.employees.filter(o=>o.employee_id!==s)}catch(o){console.error("Error deleting employee:",((e=o.response)==null?void 0:e.data)||o.message),alert("Error deleting employee: "+(((c=(n=o.response)==null?void 0:n.data)==null?void 0:c.message)||o.message))}}},mounted(){this.fetchEmployees()}},ki={class:"employees-container"},_i={class:"form-group"},Ci={class:"form-group"},Di={class:"form-group"},Si={class:"form-group"},Pi={class:"form-group"},Ai={class:"table-responsive"},Ii={key:0},Ei=["onClick"];function $i(s,e,n,c,o,a){return d(),u("div",ki,[e[14]||(e[14]=t("h2",null,"Add Employee",-1)),t("form",{onSubmit:e[5]||(e[5]=A((...i)=>a.addEmployee&&a.addEmployee(...i),["prevent"])),class:"add-employee-form"},[t("div",_i,[e[6]||(e[6]=t("label",{for:"first_name"},"First Name:",-1)),f(t("input",{type:"text",id:"first_name","onUpdate:modelValue":e[0]||(e[0]=i=>o.newEmployee.first_name=i),required:""},null,512),[[k,o.newEmployee.first_name]])]),t("div",Ci,[e[7]||(e[7]=t("label",{for:"last_name"},"Last Name:",-1)),f(t("input",{type:"text",id:"last_name","onUpdate:modelValue":e[1]||(e[1]=i=>o.newEmployee.last_name=i),required:""},null,512),[[k,o.newEmployee.last_name]])]),t("div",Di,[e[8]||(e[8]=t("label",{for:"email"},"Email:",-1)),f(t("input",{type:"email",id:"email","onUpdate:modelValue":e[2]||(e[2]=i=>o.newEmployee.email=i),required:""},null,512),[[k,o.newEmployee.email]])]),t("div",Si,[e[9]||(e[9]=t("label",{for:"phone_number"},"Phone Number:",-1)),f(t("input",{type:"text",id:"phone_number","onUpdate:modelValue":e[3]||(e[3]=i=>o.newEmployee.phone_number=i),required:""},null,512),[[k,o.newEmployee.phone_number]])]),t("div",Pi,[e[10]||(e[10]=t("label",{for:"notes"},"Note:",-1)),f(t("input",{type:"text",id:"notes","onUpdate:modelValue":e[4]||(e[4]=i=>o.newEmployee.notes=i)},null,512),[[k,o.newEmployee.notes]])]),e[11]||(e[11]=t("button",{type:"submit",class:"submit-btn"},"Add Employee",-1))],32),e[15]||(e[15]=t("h2",null,"Employee List",-1)),t("div",Ai,[t("table",null,[e[13]||(e[13]=t("thead",null,[t("tr",null,[t("th",null,"Employee ID"),t("th",null,"First Name"),t("th",null,"Last Name"),t("th",null,"Email"),t("th",null,"Phone Number"),t("th",null,"Note"),t("th",null,"Actions")])],-1)),t("tbody",null,[o.employees.length===0?(d(),u("tr",Ii,e[12]||(e[12]=[t("td",{colspan:"7"},"No employees found",-1)]))):b("",!0),(d(!0),u(v,null,w(o.employees,i=>(d(),u("tr",{key:i.employee_id},[t("td",null,l(i.employee_id),1),t("td",null,l(i.first_name),1),t("td",null,l(i.last_name),1),t("td",null,l(i.email),1),t("td",null,l(i.phone_number),1),t("td",null,l(i.notes||"N/A"),1),t("td",null,[t("button",{onClick:r=>a.deleteEmployee(i.employee_id),class:"delete-btn"}," Delete ",8,Ei)])]))),128))])])])])}const xi=_(wi,[["render",$i],["__scopeId","data-v-bdde130a"]]),Ui={name:"Customers",data(){return{customers:[]}},methods:{async fetchCustomers(){try{const s=await p.get("/admin/customers");this.customers=s.data}catch(s){console.error("Error fetching customers:",s)}},formatDate(s){return s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"},async deleteCustomer(s){if(confirm("Are you sure you want to delete this customer?"))try{await p.delete(`/admin/customers/${s}`),this.customers=this.customers.filter(e=>e.customer_id!==s),alert("Customer deleted successfully")}catch(e){alert("Failed to delete customer"),console.error(e)}}},mounted(){this.fetchCustomers()}},Oi={class:"customers-container"},Mi={class:"table-responsive"},Ri={key:0},Ni=["onClick"];function Fi(s,e,n,c,o,a){return d(),u("div",Oi,[e[2]||(e[2]=t("h2",null,"Customers",-1)),t("div",Mi,[t("table",null,[e[1]||(e[1]=t("thead",null,[t("tr",null,[t("th",null,"Customer ID"),t("th",null,"Name"),t("th",null,"Phone"),t("th",null,"Address"),t("th",null,"Payment Method"),t("th",null,"Card"),t("th",null,"Created at"),t("th",null,"Actions")])],-1)),t("tbody",null,[o.customers.length===0?(d(),u("tr",Ri,e[0]||(e[0]=[t("td",{colspan:"8"},"No customers found",-1)]))):b("",!0),(d(!0),u(v,null,w(o.customers,i=>(d(),u("tr",{key:i.customer_id},[t("td",null,l(i.customer_id),1),t("td",null,l(i.name||"N/A"),1),t("td",null,l(i.phone||"N/A"),1),t("td",null,l(i.address||"N/A"),1),t("td",null,l(i.payment||"N/A"),1),t("td",null,l(i.card||"N/A"),1),t("td",null,l(a.formatDate(i.created_at)),1),t("td",null,[t("button",{onClick:r=>a.deleteCustomer(i.customer_id),class:"delete-btn"}," Delete ",8,Ni)])]))),128))])])])])}const Ti=_(Ui,[["render",Fi],["__scopeId","data-v-054107d1"]]),Li={name:"Orders",data(){return{orders:[],employees:[]}},methods:{async fetchOrders(){try{const s=await p.get("/admin/orders");this.orders=s.data}catch(s){console.error("Error fetching orders:",s)}},async fetchEmployees(){try{const s=await p.get("/admin/employees");this.employees=s.data}catch(s){console.error("Error fetching employees:",s)}},formatDate(s){return s?new Date(s).toLocaleDateString("en-US",{year:"numeric",month:"long",day:"numeric"}):"N/A"},async assignEmployee(s,e){try{const n=e.target.value;await p.post("/admin/assign-employee",{order_id:s,employee_id:n}),await this.fetchOrders()}catch(n){console.error("Error assigning employee:",n)}}},mounted(){this.fetchOrders(),this.fetchEmployees()}},qi={class:"orders-container"},ji={class:"table-responsive"},Vi={key:0},Bi=["onSubmit"],Ji=["onUpdate:modelValue","onChange"],zi=["value"];function Ki(s,e,n,c,o,a){return d(),u("div",qi,[e[3]||(e[3]=t("h2",null,"Orders",-1)),t("div",ji,[t("table",null,[e[2]||(e[2]=t("thead",null,[t("tr",null,[t("th",null,"Order ID"),t("th",null,"Customer ID"),t("th",null,"Employee ID"),t("th",null,"Assigned Employee"),t("th",null,"Order Date"),t("th",null,"Status")])],-1)),t("tbody",null,[o.orders.length===0?(d(),u("tr",Vi,e[0]||(e[0]=[t("td",{colspan:"6"},"No orders found",-1)]))):b("",!0),(d(!0),u(v,null,w(o.orders,i=>(d(),u("tr",{key:i.OrderID},[t("td",null,l(i.OrderID),1),t("td",null,l(i.CustomerID),1),t("td",null,l(i.employee_id),1),t("td",null,[t("form",{onSubmit:A(r=>a.assignEmployee(i.OrderID,r),["prevent"]),class:"assign-employee-form"},[f(t("select",{"onUpdate:modelValue":r=>i.employee_id=r,onChange:r=>a.assignEmployee(i.OrderID,r)},[e[1]||(e[1]=t("option",{value:""},"Select Employee",-1)),(d(!0),u(v,null,w(o.employees,r=>(d(),u("option",{key:r.employee_id,value:r.employee_id},l(r.first_name)+" "+l(r.last_name),9,zi))),128))],40,Ji),[[E,i.employee_id]])],40,Bi)]),t("td",null,l(a.formatDate(i.OrderDate)),1),t("td",null,[t("span",{class:C(["status-badge",i.employee_id?"assigned":"unassigned"])},l(i.employee_id?"Assigned":"Unassigned"),3)])]))),128))])])])])}const Hi=_(Li,[["render",Ki],["__scopeId","data-v-cee715a6"]]),Gi={name:"Products",data(){return{products:[]}},methods:{async fetchProducts(){try{const s=await p.get("/admin/products");this.products=s.data}catch(s){console.error("Error fetching products:",s)}},async deleteProduct(s){if(confirm("Are you sure you want to delete this product?"))try{await p.delete(`/admin/products/${s}`),this.products=this.products.filter(e=>e.id!==s)}catch(e){console.error("Error deleting product:",e)}},handleImageError(s){s.target.src="/images/default-product.png"}},mounted(){this.fetchProducts()}},Wi={class:"products-container"},Qi={class:"table-responsive"},Yi={key:0},Xi=["src","alt"],Zi=["onClick"];function ea(s,e,n,c,o,a){return d(),u("div",Wi,[e[3]||(e[3]=t("h2",null,"Products",-1)),t("div",Qi,[t("table",null,[e[2]||(e[2]=t("thead",null,[t("tr",null,[t("th",null,"Image"),t("th",null,"Name"),t("th",null,"ID"),t("th",null,"Seller"),t("th",null,"Price"),t("th",null,"Actions")])],-1)),t("tbody",null,[o.products.length===0?(d(),u("tr",Yi,e[1]||(e[1]=[t("td",{colspan:"6",style:{"text-align":"center"}},"No products available",-1)]))):b("",!0),(d(!0),u(v,null,w(o.products,i=>(d(),u("tr",{key:i.id},[t("td",null,[t("img",{src:"/storage/"+i.image,alt:i.name,onError:e[0]||(e[0]=(...r)=>a.handleImageError&&a.handleImageError(...r))},null,40,Xi)]),t("td",null,l(i.name),1),t("td",null,l(i.id),1),t("td",null,l(i.seller_name),1),t("td",null,"₱"+l(parseFloat(i.price).toFixed(2)),1),t("td",null,[t("button",{onClick:r=>a.deleteProduct(i.id),class:"delete-btn"}," Delete ",8,Zi)])]))),128))])])])])}const ta=_(Gi,[["render",ea],["__scopeId","data-v-d79ab29f"]]),sa={name:"OrderDetails",data(){return{orderDetails:[]}},computed:{grandTotal(){return this.orderDetails.reduce((s,e)=>s+e.price*e.quantity,0)}},methods:{async fetchOrderDetails(){try{const s=await p.get("/admin/order-details");this.orderDetails=s.data}catch(s){console.error("Error fetching order details:",s)}},formatPrice(s){return parseFloat(s).toFixed(2)}},mounted(){this.fetchOrderDetails()}},ra={class:"order-details-container"},oa={class:"table-responsive"},ia={key:0},aa={class:"grand-total"};function na(s,e,n,c,o,a){return d(),u("div",ra,[e[2]||(e[2]=t("h2",null,"Order Details",-1)),t("div",oa,[t("table",null,[e[1]||(e[1]=t("thead",null,[t("tr",null,[t("th",null,"Order Detail ID"),t("th",null,"Order ID"),t("th",null,"Product ID"),t("th",null,"Product Name"),t("th",null,"Quantity"),t("th",null,"Price"),t("th",null,"Total Price")])],-1)),t("tbody",null,[o.orderDetails.length===0?(d(),u("tr",ia,e[0]||(e[0]=[t("td",{colspan:"7"},"No order details found",-1)]))):b("",!0),(d(!0),u(v,null,w(o.orderDetails,i=>(d(),u("tr",{key:i.id},[t("td",null,l(i.id),1),t("td",null,l(i.OrderID),1),t("td",null,l(i.product_id),1),t("td",null,l(i.product_name),1),t("td",null,l(i.quantity),1),t("td",null,"₱"+l(a.formatPrice(i.price)),1),t("td",null,"₱"+l(a.formatPrice(i.price*i.quantity)),1)]))),128))])]),t("div",aa," Grand Total: ₱"+l(a.formatPrice(a.grandTotal)),1)])])}const la=_(sa,[["render",na],["__scopeId","data-v-004cdb9a"]]),da={name:"SellerApplications",data(){return{applications:[],message:"",messageType:""}},methods:{async fetchApplications(){try{const s=await p.get("/admin/seller-applications");this.applications=s.data}catch(s){console.error("Error fetching applications:",s),this.showMessage("Error fetching applications","error")}},async approveApplication(s){var e,n;try{await p.post(`/admin/seller-applications/${s}/approve`,{},{headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}),this.showMessage("Application approved successfully","success"),await this.fetchApplications()}catch(c){console.error("Error approving application:",c),this.showMessage(((n=(e=c.response)==null?void 0:e.data)==null?void 0:n.message)||"Error approving application","error")}},async rejectApplication(s){var e,n;if(confirm("Are you sure you want to reject this application?"))try{await p.post(`/admin/seller-applications/${s}/reject`,{},{headers:{"X-CSRF-TOKEN":document.querySelector('meta[name="csrf-token"]').getAttribute("content")}}),this.showMessage("Application rejected successfully","success"),await this.fetchApplications()}catch(c){console.error("Error rejecting application:",c),this.showMessage(((n=(e=c.response)==null?void 0:e.data)==null?void 0:n.message)||"Error rejecting application","error")}},showMessage(s,e){this.message=s,this.messageType=e,setTimeout(()=>{this.message="",this.messageType=""},3e3)}},mounted(){this.fetchApplications()}},ua={class:"seller-applications-container"},ca={class:"table-responsive"},ma={key:0},pa=["onClick"],ga=["onClick"];function fa(s,e,n,c,o,a){return d(),u("div",ua,[e[2]||(e[2]=t("h2",null,"Seller Applications",-1)),o.message?(d(),u("div",{key:0,class:C(["message",o.messageType])},l(o.message),3)):b("",!0),t("div",ca,[t("table",null,[e[1]||(e[1]=t("thead",null,[t("tr",null,[t("th",null,"Name"),t("th",null,"Email"),t("th",null,"Phone"),t("th",null,"Address"),t("th",null,"Status"),t("th",null,"Actions")])],-1)),t("tbody",null,[o.applications.length===0?(d(),u("tr",ma,e[0]||(e[0]=[t("td",{colspan:"6",style:{"text-align":"center"}},"No pending applications",-1)]))):b("",!0),(d(!0),u(v,null,w(o.applications,i=>(d(),u("tr",{key:i.id},[t("td",null,l(i.name),1),t("td",null,l(i.email),1),t("td",null,l(i.phone),1),t("td",null,l(i.address),1),t("td",null,[t("span",{class:C(["status-badge",i.status])},l(i.status),3)]),t("td",null,[i.status==="pending"?(d(),u(v,{key:0},[t("button",{onClick:r=>a.approveApplication(i.id),class:"approve-btn"}," Approve ",8,pa),t("button",{onClick:r=>a.rejectApplication(i.id),class:"reject-btn"}," Reject ",8,ga)],64)):b("",!0)])]))),128))])])])])}const ha=_(da,[["render",fa],["__scopeId","data-v-994b4a8e"]]),va={name:"Pending",mounted(){this.$route.query.fromRegistration||this.$router.push("/")}},ya={class:"pending-container"},ba={class:"content-wrapper"},wa={class:"card"},ka={class:"card-body d-flex flex-column align-items-center"},_a={class:"mt-4 d-flex justify-content-center"};function Ca(s,e,n,c,o,a){const i=D("router-link");return d(),u("div",ya,[t("div",ba,[t("div",wa,[t("div",ka,[e[1]||(e[1]=P('<div class="text-center mb-4" data-v-06788a8b><i class="fas fa-clock fa-4x text-warning" data-v-06788a8b></i></div><h2 class="card-title text-center mb-3" data-v-06788a8b>Application Pending</h2><p class="card-text text-center" data-v-06788a8b> Thank you for applying as a seller. Your application is currently under review. </p><p class="text-muted text-center" data-v-06788a8b> Please wait while our administrators review your application. </p><p class="text-muted text-center" data-v-06788a8b> This process may take some time. </p><p class="text-muted text-center" data-v-06788a8b> You will be notified once your application has been approved. </p>',6)),t("div",_a,[y(i,{to:"/",class:"btn btn-primary"},{default:h(()=>e[0]||(e[0]=[m(" Return to Home ")])),_:1})])])])])])}const Da=_(va,[["render",Ca],["__scopeId","data-v-06788a8b"]]);p.defaults.withCredentials=!0;p.defaults.headers.common["X-CSRF-TOKEN"]=document.querySelector('meta[name="csrf-token"]').getAttribute("content");const Sa=[{path:"/admin/login",name:"AdminLogin",component:Qo},{path:"/admin",component:ti,meta:{requiresAdmin:!0},children:[{path:"",name:"AdminDashboard",component:mi},{path:"users",name:"AdminUsers",component:bi},{path:"employees",name:"AdminEmployees",component:xi},{path:"customers",name:"AdminCustomers",component:Ti},{path:"orders",name:"AdminOrders",component:Hi},{path:"products",name:"AdminProducts",component:ta},{path:"order-details",name:"AdminOrderDetails",component:la},{path:"seller-applications",name:"AdminSellerApplications",component:ha}]},{path:"/",name:"Home",component:N},{path:"/about-us",name:"AboutUs",component:F},{path:"/login",name:"Login",component:T},{path:"/register",name:"Register",component:L},{path:"/order",name:"Order",component:q},{path:"/checkout",name:"Checkout",component:j},{path:"/delivery",name:"Delivery",component:V},{path:"/profile",name:"profile",component:rr,meta:{requiresAuth:!0}},{path:"/profile-settings",name:"profile-settings",component:fr,meta:{requiresAuth:!0}},{path:"/order-history",name:"order-history",component:Fr,meta:{requiresAuth:!0}},{path:"/create-product",name:"CreateProduct",component:Hr,meta:{requiresAuth:!0}},{path:"/my-products",name:"MyProducts",component:jo,meta:{requiresAuth:!0}},{path:"/pending",name:"Pending",component:Da},{path:"/receipt",name:"Receipt",component:Ls},{path:"/order-details/:id",name:"OrderDetails",component:Io,meta:{requiresAuth:!0}}],O=z({history:K("/"),routes:Sa});O.beforeEach((s,e,n)=>{if(s.name==="AdminLogin"){n();return}if(s.path.startsWith("/admin")){localStorage.getItem("isAdmin")==="true"?n():n({name:"AdminLogin"});return}s.meta.requiresAuth?localStorage.getItem("user")?n():n("/login"):n()});const Pa=H({state:{deliveryStatus:!1,deliveryMessage:"",timeRemaining:600,isActive:!1},mutations:{SET_DELIVERY_STATUS(s,{status:e,message:n,isActive:c}){s.deliveryStatus=e,s.deliveryMessage=n,s.isActive=c},SET_TIME_REMAINING(s,e){s.timeRemaining=e}},actions:{updateDeliveryStatus({commit:s},{status:e,message:n,isActive:c}){s("SET_DELIVERY_STATUS",{status:e,message:n,isActive:c})},updateTimeRemaining({commit:s},e){s("SET_TIME_REMAINING",e)}}}),S=G(Y);S.component("HomePage",N);S.component("Login",T);S.component("Register",L);S.component("Order",q);S.component("Checkout",j);S.component("Delivery",V);S.component("AboutUs",F);p.defaults.headers.common["X-Requested-With"]="XMLHttpRequest";p.defaults.withCredentials=!0;const M=document.querySelector('meta[name="csrf-token"]');M?p.defaults.headers.common["X-CSRF-TOKEN"]=M.content:console.error("CSRF token not found");p.defaults.headers.common["X-CSRF-TOKEN"]=document.querySelector('meta[name="csrf-token"]').content;p.defaults.withCredentials=!0;O.beforeEach((s,e,n)=>{if(s.path.startsWith("/admin")){if(s.path==="/admin/login"){n();return}if(!(localStorage.getItem("isAdmin")==="true")){n("/admin/login");return}n();return}const o=!["/login","/register","/","/about-us"].includes(s.path),a=localStorage.getItem("user");if(o&&!a){n("/login");return}n()});S.use(O);S.use(Pa);S.config.globalProperties.$axios=p;S.mount("#app");
